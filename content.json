{"posts":[{"title":"About Blog and Learning","text":"Reasons to Write a Blog è¿™ä¸ªåšå®¢æ˜¯åœ¨ä¸€å¹´ä¹‹å‰å»ºç«‹çš„ï¼Œä½†ç”±äºæˆ‘è§‰å¾—å†™åšå®¢å¾ˆç´¯å°±ä¸€ç›´æç½®ç€ã€‚åœ¨ä¸€å¹´å¤šçš„å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ—¶å¸¸æ„Ÿè§‰åˆ°é—å¿˜å’Œä¸çŸ¥ä»ä½•è€Œæ¥ã€‚å‰å‡ å¤©åœ¨ç¿»æ‰¾è¯¾ç¨‹æ”»ç•¥æ—¶ï¼Œæˆ‘å‘ç°ä¸€ä¸ªåšå®¢çš„ä¸»äººæ›¾å‡ å¹´ä¸é—´æ–­åœ°æ¯å¤©å†™åšå®¢ï¼Œæˆ‘å½“ç„¶åšä¸åˆ°è¿™æ ·ï¼Œä½†æ˜¯å—åˆ°äº†è«å¤§çš„æ¿€åŠ±ï¼Œäºæ˜¯æƒ³èµ·äº†è¿™ä¸ªåšå®¢ï¼Œæƒ³è¦å€Ÿæ­¤è®°å½•è‡ªå·±çš„å­¦ä¹ å’Œç”Ÿæ´»ã€‚ä¸è¿‡è¯´åˆ°åšåšå®¢çš„ç»éªŒçš„è¯ï¼Œæˆ‘æ˜¯ä¸€ç‚¹æ²¡æœ‰ï¼Œä½†ç”±äºé«˜ä¸­çš„æ—¶å€™å†™äº†ä¸å°‘éšç¬”ï¼Œå› æ­¤æˆ‘æ˜¯æ“…é•¿è‡ªè¨€è‡ªè¯­çš„ã€‚åšè¿™ä¸ªåšå®¢ï¼Œé™¤äº†å‡å°‘é—å¿˜ä»¥å¤–ï¼Œæ›´å¤šçš„æ˜¯ç»™è‡ªå·±çœ‹ï¼Œç»™è‡ªå·±ä¸€ä¸ªå¿µæƒ³ï¼Œè®°å½•ä¸‹è‡ªå·±çš„è„šæ­¥ã€‚å¦å¤–æƒ³è¯´çš„è¿˜æ˜¯ï¼Œç”±äºæ˜¯ç»™è‡ªå·±å†™çš„åšå®¢ï¼ŒæŠ€æœ¯çº°æ¼å¾ˆå¤šï¼Œæ—¥è®°å¼è‡ªè¨€è‡ªè¯­çš„è¯å¾ˆå¤šï¼Œå¾ˆå¤šè¯„ä»·å’Œæ„Ÿè§‰ä¸æˆç†Ÿä¹Ÿä¸ä¸“ä¸šï¼Œå¾ˆå¤šæ„Ÿæƒ…å¾ˆç›´æ¥å´ä¹ŸçœŸå®ï¼Œçœ‹å®¢ä»¬æƒå½“å°å­©å­çš„æŠŠæˆä¸€ç¬‘è€Œè¿‡ã€‚(ä¸è¿‡åº”è¯¥ä¹Ÿæ²¡äººä¼šçœ‹ğŸ˜†) Site Log 2023/3/28 è¿™å‡ å¤©å¤šä¸Šä¼ äº†å‡ ç¯‡ï¼Œå‘ç°æ–‡ç« çš„å±æ€§ä»å­¦ä¹ è®°å½•å˜æˆéšç¬”ã€æ—¥è®°å’Œå¯¹æœªæ¥çš„æ€è€ƒäº†ï¼Œæœ¬æ¥æ˜¯ç£ä¿ƒå­¦ä¹ çš„ï¼Œç°åœ¨ä¸ºäº†å†™åšå®¢å¿˜è®°äº†ğŸ˜†ã€‚ 2023/3/31 æ„Ÿè§‰å¯ä»¥æŠŠè¯¾å¤–é˜…è¯»ä¹¦å•ä¹ŸåŠ åˆ°åšå®¢é‡Œã€‚ 2023/4/24 æ°´äº†å¥½å‡ ç¯‡åšå®¢æ–‡ç« ï¼Œå¼€äº†ä¸€äº›å‘ï¼Œä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™èƒ½è¡¥å®Œã€‚ 2023/5/1 äº”ä¸€å¿«ä¹ï¼ Lesson List and Progress Math Maki Topology Learningâ€¦ rest video Maki Abstract algebra Learningâ€¦ rest video Computer Science MIT-Missing-Semester CS106B/X rest project CS106L rest project CMU 15-213: CSAPP rest lab CS144 rest project CS50ai rest project CS61A CS61B rest lab CS61C rest multithreading lab MIT 6.031: Software Construction Learningâ€¦ rest note problem MIT 6.S081: Operating System Engineering Learningâ€¦ rest video lab Hung-yi Lee Machine Learning Maybe Learning laterâ€¦ rest video hw GAMES101 Maybe Learning laterâ€¦ CS162 Maybe Learning laterâ€¦ Book List Computer Science Updatingâ€¦","link":"/2023/03/27/About-Blog/"},{"title":"About Math","text":"Introduction ä»‹ç»æœ‰å…³æ•°å­¦å­¦ä¹ çš„é—®é¢˜ Links how to learn math lesson list Branch of mathematics çº¿æ€§ä»£æ•° æ•°å­¦åˆ†æ ç‚¹é›†æ‹“æ‰‘ å¤åˆ†æ ç¾¤è®ºå’ŒæŠ½è±¡ä»£æ•° ä¼½ç½—ç“¦ç†è®º å¾®åˆ†å‡ ä½• ä»£æ•°æ‹“æ‰‘","link":"/2023/04/29/About-Math/"},{"title":"Literature and Philosophy","text":"Book List Literature å¾· é­”å±± ä¸­ æ´»ç€ Philosophy","link":"/2023/03/31/Literature-and-Philosophy/"},{"title":"Docker","text":"Introduction Dockeræ˜¯ä¸€ä¸ªè½»é‡çº§çš„è™šæ‹Ÿæœºç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç”¨äºæ­å»ºç¯å¢ƒï¼Œåˆ†å‘é¡¹ç›®ç­‰ç­‰ã€‚ å®ƒçš„ç»“æ„å¦‚ä¸‹å›¾å³æ‰€ç¤º","link":"/2023/05/12/Docker/"},{"title":"C","text":"Introduction Cæ˜¯ä¸€ç§é¢å‘è¿‡ç¨‹çš„ç¼–ç¨‹è¯­è¨€","link":"/2023/05/12/C/"},{"title":"CS162 Lecture 3: Processes, System Calls, and Fork","text":"","link":"/2023/05/11/CS162-Lecture-3/"},{"title":"CS162 Lecture 2: Four Fundamental Concepts of Operating Systems","text":"4 Concepts Thread ç‹¬ç«‹æ‰§è¡Œçš„ä¸Šä¸‹æ–‡å•å…ƒ ä¸€ä¸ªçº¿ç¨‹è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„cpuæ ¸å¿ƒ æ‹¥æœ‰è‡ªå·±çš„PCï¼Œregisterï¼Œstackï¼Œ å½“ä¸€ä¸ªçº¿ç¨‹è¢«æ‰§è¡Œæ˜¯æŒ‡å¤„ç†å™¨æ ¸å¿ƒç»´æŠ¤äº†è¿™ä¸ªçº¿ç¨‹æœ‰å…³çš„å¯„å­˜å™¨ å½“ä¸€ä¸ªçº¿ç¨‹è¢«æŒ‚èµ·æ˜¯æŒ‡è¿™ä¸ªçº¿ç¨‹æœ‰å…³çš„ä¸Šä¸‹æ–‡è¢«ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå¤„ç†å™¨æ ¸å¿ƒåœ¨æ‰§è¡Œå…¶ä»–çº¿ç¨‹ ä¸€ä¸ªçº¿ç¨‹è¦ä¹ˆè¿è¡Œåœ¨cpuæ ¸å¿ƒä¸Šï¼Œè¦ä¹ˆè¢«ä¿å­˜åœ¨Thread Control Block(TCB)ä¸­ Address Space ä¹Ÿè¢«å«åšVirtual Address Spaceï¼Œæ˜¯æ“ä½œç³»ç»Ÿæä¾›ç»™è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´ åœ°å€ç©ºé—´æ˜¯ä¸€ç³»åˆ—åœ°å€ä»¥åŠå’Œåœ°å€æœ‰å…³çš„çŠ¶æ€ 32bitå’Œ64bitå¤„ç†å™¨æ‹¥æœ‰çš„åœ°å€ç©ºé—´æ˜¯ä¸ä¸€æ ·çš„ Process æœ‰éš”ç¦»æ€§çš„è¿è¡Œç¯å¢ƒ æ‹¥æœ‰è‡ªå·±çš„å†…å­˜ï¼ˆaddress spaceï¼‰å’Œæ–‡ä»¶æè¿°ç¬¦ï¼Œæ–‡ä»¶ç³»ç»Ÿä¸Šä¸‹æ–‡ ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ è¿›ç¨‹é‡Œäº¤æµæ˜¯å®¹æ˜“çš„ï¼Œè¿›ç¨‹é—´äº¤æµæ—¶å›°éš¾çš„ Dual mode operation / Protection ç¡¬ä»¶è‡³å°‘æä¾›äº†ä¸¤ä¸ªmodeï¼Œkernelå’Œuserï¼Œä¸¤è€…æ‹¥æœ‰ä¸åŒçš„ç¡¬ä»¶æƒé™ é€šè¿‡ä¸åŒçš„modeå¯ä»¥å®ç°æ“ä½œç³»ç»Ÿå†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´çš„åˆ‡æ¢ï¼Œå†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œè€Œå†…æ ¸æ¨¡å¼å’Œç”¨æˆ·æ¨¡å¼æ˜¯æœºå™¨æ‹¥æœ‰çš„æ¨¡å¼ã€‚ ä¸‰ç§ä»ç”¨æˆ·ç©ºé—´è¿›å…¥å†…æ ¸ç©ºé—´çš„æ–¹å¼ Unixçš„æ¶æ„ ä¸åŒäºå†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´ä¸¤å±‚ï¼Œå¤šå±‚çš„æ¶æ„å®ç°è¢«ç§°ä¸ºè™šæ‹ŸæœºæŠ€æœ¯ ä¸Šå›¾çš„æ¶æ„ç»™å‡ºäº†Hypervisorå’ŒDockerçš„æ¨¡å‹","link":"/2023/05/10/CS162-Lecture-2/"},{"title":"CS162 HW 1: List","text":"","link":"/2023/05/06/CS162-HW-1/"},{"title":"CS162 Project 0: Pregame","text":"","link":"/2023/05/06/CS162-Project-0/"},{"title":"CS162 HW 0: Introduction","text":"Dockeré…ç½®ç¯å¢ƒ æ•™ç¨‹ ä¹Ÿå¯ä»¥å‚è€ƒè¯¾ç¨‹ç½‘ç«™é…ç½®VirtualBoxï¼Œä½†æˆ‘çš„æœºå­è·‘ä¸å‡ºæ¥ğŸ˜­ Dockerç›®å½•æŒ‚è½½ è·å–å®éªŒä»“åº“ 1git clone git@github.com:Berkeley-CS162/student0.git ç›®å½•æŒ‚è½½ 1docker run -it --rm --name pintos --mount type=bind,source=/home/huayi/student0,target=/home/PKUOS/pintos pkuflyingpig/pintos bash å¯ä»¥è®©ä¸»æœºå’Œdockeré•œåƒå…±ç”¨ç›®å½•","link":"/2023/05/06/CS162-HW-0/"},{"title":"CS162 Lecture 1: Intro to CS162: What is an operating system?","text":"è½¯ç¡¬ä»¶æ¥å£ åœ¨CS61Cä¸­æˆ‘ä»¬å·²ç»å­¦ä¹ è¿‡æœºå™¨æ¶æ„ï¼Œæ“ä½œç³»ç»Ÿçš„ä¸€å¤§ç›®çš„æ˜¯ï¼Œä¸ºåº”ç”¨ç¨‹åºæŠ½è±¡ç¡¬ä»¶çš„ç»†èŠ‚ï¼Œè€Œåªæä¾›ç‰¹å®šåŠŸèƒ½çš„æ¥å£ã€‚ OSæ¦‚è§ˆ æ“ä½œç³»ç»Ÿå°†ç¡¬ä»¶åˆ†åˆ«æŠ½è±¡æˆè¿›ç¨‹ä¸­çš„å„ä¸ªéƒ¨åˆ†ï¼Œè¿›ç¨‹å°±æ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„ä¸€ä¸ªç¼–ç¨‹æŠ½è±¡ï¼Œåº”ç”¨ç¨‹åºçœ¼ä¸­çš„â€œæœºå™¨â€å°±æ˜¯è¢«æŠ½è±¡åçš„ç¡¬ä»¶â€”â€”è¿›ç¨‹ã€‚ è¿›ç¨‹åˆ‡æ¢ æ“ä½œç³»ç»Ÿå¯ä»¥åœ¨ä¸åŒè¿›ç¨‹ä¸­åˆ‡æ¢ï¼Œç”±äºæ—¶é—´å¾ˆçŸ­ï¼Œè¿™é€ æˆäº†ä¸åŒè¿›ç¨‹åŒæ—¶è¿è¡Œçš„å‡è±¡ã€‚ æ“ä½œç³»ç»Ÿåœ¨ä¸åŒè¿›ç¨‹ä¸­æä¾›éš”ç¦»æ€§ï¼Œç”¨æˆ·è¿›ç¨‹ä¸èƒ½è®¿é—®å±äºå†…æ ¸çš„è¿›ç¨‹ç©ºé—´ï¼Œå¦åˆ™è§¦å‘Segmentation fault","link":"/2023/05/06/CS162-Lecture-1/"},{"title":"UCB CS162: Operating Systems and Systems Programming","text":"Course About ä»‹ç»æœ‰å…³æ“ä½œç³»ç»Ÿçš„é—®é¢˜ Links è¯¾ç¨‹ä¸»é¡µ è¯¾ç¨‹è§†é¢‘ Pintos","link":"/2023/05/03/UCB-CS162/"},{"title":"MIT 6.S081 Lab thread","text":"Compulsory exercises Preparation reading To start the lab, switch to the thread branch: 123git fetchgit checkout threadmake clean Uthread: switching between threads (moderate) Using threads (moderate) Barrier(moderate) Optional challenge exercises The user-level thread package interacts badly with the operating system in several ways. For example, if one user-level thread blocks in a system call, another user-level thread wonâ€™t run, because the user-level threads scheduler doesnâ€™t know that one of its threads has been descheduled by the xv6 scheduler. As another example, two user-level threads will not run concurrently on different cores, because the xv6 scheduler isnâ€™t aware that there are multiple threads that could run in parallel. Note that if two user-level threads were to run truly in parallel, this implementation wonâ€™t work because of several races (e.g., two threads on different processors could call thread_schedule concurrently, select the same runnable thread, and both run it on different processors.) There are several ways of addressing these problems. One is using scheduler activations and another is to use one kernel thread per user-level thread (as Linux kernels do). Implement one of these ways in xv6. This is not easy to get right; for example, you will need to implement TLB shootdown when updating a page table for a multithreaded user process. Add locks, condition variables, barriers, etc. to your thread package.","link":"/2023/05/03/6-S081-Lab-thread/"},{"title":"MIT 6.S081 Lecture 17: Virtual memory for applications","text":"Reading Read Virtual Memory Primitives for User Programs (1991)","link":"/2023/04/28/6-S081-Lecture-17/"},{"title":"Hung-yi Lee ML Lecture1: Introduction of Deep Learning","text":"Preparation æœºå™¨å­¦ä¹  è¯¾ç¨‹å†…å®¹ PyTorch Colab HW1 Regression","link":"/2023/04/26/Hung-yi-Lee-ML-Lecture1/"},{"title":"Hung-yi Lee Machine Learning","text":"Course About ä»‹ç»æœ‰å…³æœºå™¨å­¦ä¹ çš„é—®é¢˜ã€‚ Links è¯¾ç¨‹ä¸»é¡µ","link":"/2023/04/26/Hung-yi-Lee-Machine-Learning/"},{"title":"Java","text":"Introduction Javaæ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼ŒJVMè™šæ‹Ÿæœºçš„ä½¿ç”¨ï¼Œè®©javaçš„ç¼–è¯‘è¿‡ç¨‹ååˆ†ç‰¹æ®Šï¼Œæ¥å£çš„å¼•å…¥ï¼Œä¹Ÿè®©é¢å‘å¯¹è±¡çš„ç‰¹å¾ååˆ†çªå‡ºã€‚","link":"/2023/04/25/Java/"},{"title":"Python","text":"Introduction Pythonæ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¸åŒäºCå’ŒC++ï¼Œå®ƒæ˜¯ä¸€ç§è§£é‡Šå‹è¯­è¨€ã€‚","link":"/2023/04/25/Python/"},{"title":"How to start a Project using C","text":"ä»‹ç» å°†ä¼šä»‹ç»å¦‚ä½•ä½¿ç”¨Cå’Œæ–‡æœ¬ç¼–è¾‘å™¨å¼€å‘åœ¨Linuxå¹³å°ä¸Šè¿è¡Œçš„æ§åˆ¶å°åº”ç”¨ç¨‹åº å’ŒHelloWorldä¸€æ ·ğŸ˜„ å‡†å¤‡å·¥ä½œ äº†è§£æ‰€è¦å¼€å‘é¡¹ç›®çš„èƒŒæ™¯çŸ¥è¯† ç¯å¢ƒæ­å»º gccä½œä¸ºç¼–è¯‘å™¨å·¥å…·é“¾ Makeä½œä¸ºæ„å»ºå·¥å…· é¡¹ç›®æ¡†æ¶ å¼€å‘ä¸æµ‹è¯• è¿è¡Œç»´æŠ¤ updatingâ€¦","link":"/2023/04/25/Zero-C-Project/"},{"title":"x86","text":"Introduction x86æ˜¯ä¸€ç§å¤æ‚æŒ‡ä»¤é›†æ¶æ„çš„æ±‡ç¼–è¯­è¨€","link":"/2023/04/24/x86/"},{"title":"How to start a Project from Zero","text":"ä»‹ç» å¦‚ä½•ä»0å¼€å§‹å®Œæˆä¸€ä¸ªé¡¹ç›®ï¼Ÿè¿™æ˜¯æˆ‘åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€ä¸ªéš¾ä»¥å¿½è§†çš„é—®é¢˜ã€‚è¿™ç¯‡æ–‡ç« å°†ä¼šåŒ…å«å¦‚ä½•å»å¼€å§‹ä¸€ä¸ªé¡¹ç›®ï¼Œå¦‚ä½•å»ç»´æŠ¤ä¸€ä¸ªé¡¹ç›®çš„è®°å½•ã€‚ä¸è¿‡è¿™äº›æƒ³æ³•æ²¡æœ‰ç»è¿‡è®¤è¯ï¼Œä»…ä»…æ˜¯å¯¹äºå¼€å‘è¿‡ç¨‹ä¸­çš„æ€è€ƒæ–¹å¼çš„å½’çº³å’Œæ€»ç»“ã€‚ å¼€å‘çš„èŒƒå¼å¾ˆéš¾æ€»ç»“å‡ºæ¥ï¼Œå› æ­¤æˆ‘å°†å°è¯•åˆ†ææˆ‘åœ¨ä¸€é—¨ç¨‹åºè®¾è®¡ä¸“é¢˜è¯¾æœ€åçš„å¤§ä½œä¸šå¼€å‘æµç¨‹ï¼Œé€šè¿‡å®Œå–„è¿™ä¸ªè¿œå¤é¡¹ç›®å¼€å‘çš„è¿‡ç¨‹ï¼Œæ¥å¸®åŠ©æ„å»ºä¸€ä¸ªå¼€å‘çš„èŒƒå¼ã€‚ è¿™ä¸ªé¡¹ç›®é‡‡ç”¨Cå’Œvisual studio2017å¼€å‘ é¡¹ç›®ä»‹ç» é¡¹ç›®çš„åå­—å«åš&quot;æ’åºå¯è§†åŒ–&quot;ï¼Œè¦æ±‚æˆ‘ä»¬å°ç»„å®ç°å¸¸è§æ’åºçš„å¯è§†åŒ–å±•ç¤ºã€‚ é¡¹ç›®çš„å®ç°éœ€è¦å€ŸåŠ©å­¦æ ¡é‡Œä¸€ä¸ªè€æ‰ç‰™çš„å›¾å½¢åº“ï¼Œè¯¥å›¾å½¢åº“ä¸ºæˆ‘ä»¬å°è£…äº†æŸäº›å›¾å½¢çš„ç”»æ³•ï¼Œè¿˜æœ‰windowsçª—å£çš„ç”Ÿæˆç­‰ç­‰ è¿™ä¸ªé¡¹ç›®æŒ‰ç†æ¥è¯´æ˜¯ç®€å•çš„ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€äº›åˆšå¼€å§‹éš¾ä»¥æ€è€ƒçš„è¦ç´ ï¼Œæ¯”å¦‚è¯´Windowsï¼Œæ¯”å¦‚è¯´å›¾å½¢åŒ–ï¼Œè¿™æ ·å°±ä¸å¤ŸæŠŠæœ€éœ€è¦å…³æ³¨çš„ç‚¹æ˜¾éœ²å‡ºæ¥ï¼Œå› æ­¤æˆ‘æƒ³åœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­é€‰æ‹©ä¸€ä¸ªè¦ç´ æœ€ä¸ºç¨€å°‘çš„é¡¹ç›®ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨C/C++å’Œæ–‡æœ¬ç¼–è¾‘å™¨å¼€å‘çš„åœ¨Linuxå¹³å°ä¸Šè¿è¡Œçš„æ§åˆ¶å°åº”ç”¨ç¨‹åºï¼Œæ¥é˜è¿°æˆ‘è®¤ä¸ºçš„é¡¹ç›®å¼€å‘æ€è·¯ã€‚ å‡†å¤‡å·¥ä½œ å•æ‹å‡ºæ¥ä¸€ä¸ªæ’åºå¯è§†åŒ–ï¼Œæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨æˆ‘ä»¬æ‰‹ä¸Šé›¶æ•£çš„å¼€å‘ç»éªŒå’Œå·¥å…·ï¼Œå°†è¿™ä¸ªé¡¹ç›®æœ‰åºåœ°è¿›è¡Œä¸‹å»å‘¢ï¼Ÿè¿™æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„é—®é¢˜ï¼Œå¤§å®¶éƒ½æ²¡æœ‰å¼€å‘ç»éªŒï¼Œå¤§å®¶éƒ½æ˜¯å°ç™½ï¼Œä½†æˆ‘ä»¬å´è¦å»å®Œæˆä¸€ä¸ª&quot;é»‘ç®±&quot;ï¼Œè€Œè¿™ä¸ªé»‘ç®±å±…ç„¶èƒ½å¤Ÿå®ç°æ’åºå¯è§†åŒ–çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¾ˆå…´å¥‹ï¼Œä½†æ˜¯ä¹Ÿä¸çŸ¥é“ä»ä½•å¼€å§‹ã€‚ ä½œä¸ºç»„é•¿ï¼Œæˆ‘è¯´äº†å¥ä»¤äººä¿¡æœçš„åºŸè¯ï¼šå¤§å®¶å»å­¦ä¹ ä¸€ä¸‹ä»€ä¹ˆæ˜¯æ’åºã€‚äºæ˜¯æˆ‘ä»¬ç»„å‘˜èŠ±äº†ä¸€å‘¨æ—¶é—´å­¦ä¼šäº†å†’æ³¡é€‰æ‹©æ’å…¥å½’å¹¶ç­‰æ’åºç®—æ³•ã€‚ æˆ‘åˆè¯´ï¼Œè¦ç”¨å­¦æ ¡é‡Œè¿™ä¸ªå¾ˆçƒ‚çš„å›¾å½¢åº“ï¼Œå¤§å®¶æŠŠç”»å›¾çš„å‡½æ•°éƒ½çœ‹çœ‹ï¼Œç†Ÿæ‚‰ä¸€ä¸‹å›¾å½¢åº“ã€‚äºæ˜¯ç»„å‘˜ä»¬åˆèŠ±äº†ä¸€å‘¨æ—¶é—´ï¼ŒæŠŠè¿™ä¸ªè€å¤è‘£å•ƒäº†ä¸€éã€‚ ä½†æ˜¯æ€ä¹ˆå¼€å§‹å‘¢ï¼Ÿæˆ‘ä»¬å›å»ä¸ªäººå•å¹²äº†ä¸€æ˜ŸæœŸï¼Œåœ¨æˆ‘å·æ‡’çš„æ—¶é—´é‡Œï¼Œæœ‰ç»„å‘˜çš„æ’åºå¯è§†åŒ–å·²ç»åˆå…·é›å½¢ï¼Œæˆ‘å¾ˆé«˜å…´ï¼Œé‚å¬é›†å¤§å®¶å¼€ä¼šï¼Œå•†é‡å¦‚ä½•åœ¨è¿™ä¸ªé›å½¢ä¸Šå®Œæˆæˆ‘ä»¬çš„é¡¹ç›®ï¼Œä½†æ˜¯ä¸€å¼€ä¼šæˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œç¨‹åºåœ¨main.cé‡Œé¢ï¼Œè¦åˆ†æ¨¡å—å¾ˆéš¾ï¼Œè¿™å¯¹åæ¥çš„æ¨¡å—åˆ’åˆ†è¿˜æœ‰æ¨¡å—æ·»åŠ é€ æˆäº†éº»çƒ¦ã€‚ äºæ˜¯æˆ‘å°è¯•å»åˆ’åˆ†æ¨¡å—ï¼Œä½†æ˜¯æ²¡èƒ½æˆåŠŸï¼Œäºæ˜¯è¿™æ¬¡æˆ‘ä»å¤´æ–‡ä»¶çš„å»ºç«‹å¼€å§‹ï¼Œè‡ªå·±å†™äº†ä¸€å¤§å †ä»£ç ï¼Œä½†æ˜¯æ¯ä¸ªæ¨¡å—éƒ½åˆ†æˆå°å—æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼ŒæŠŠæ¯ä¸ªåŠŸèƒ½æ¨¡å—åˆ’åˆ†å¥½ï¼Œæœ€åä¹Ÿå®Œæˆäº†ä¸€ä¸ªé›å½¢ï¼Œæ”¶è·äº†ç»„å‘˜ä»¬çš„ä¸€è‡´å¥½è¯„ã€‚ è¿™æ˜¯æˆ‘ä»¬åœ¨æ¯«æ— ç»éªŒçš„æƒ…å†µä¸‹æ‘¸ç´¢å‡ºæ¥çš„å‡†å¤‡å·¥ä½œè¿‡ç¨‹ï¼Œå…¶ä¸­ä¸ä¹æœ‰äº›ä¸æˆç†Ÿçš„åœ°æ–¹ï¼Œä½†æ˜¯å¯å–ä¹‹å¤„ä¹Ÿæ˜¯ä¸å°‘ï¼Œä¸‹é¢æ˜¯æˆ‘åæ¥çš„ä¸€äº›åæ€å’Œç»éªŒã€‚ æˆ‘ä»¬çš„é¡¹ç›®æ˜¯ä»€ä¹ˆ è¿™æ˜¯ä¸€ä¸ªæˆ‘å½“æ—¶ä»æœªæ€è€ƒè¿‡çš„é—®é¢˜ï¼Œåæ¥æˆ‘è§‰å¾—è¿™æ˜¯ååˆ†é‡è¦çš„ï¼Œæ˜ç™½ä¸€ä¸ªé¡¹ç›®æ˜¯ä»€ä¹ˆï¼Œæ˜¯é¿å…æˆä¸ºæ— å¤´è‹è‡çš„ç¬¬ä¸€æ­¥ã€‚ æˆ‘ä»¬çš„é¡¹ç›®æ˜¯ä¸€ä¸ªå€Ÿç”¨ç¬¬ä¸‰æ–¹å›¾å½¢åº“ï¼Œä½¿ç”¨Cè¯­è¨€å’Œvisual studio2017å¼€å‘çš„åœ¨windowså¹³å°ä¸Šè¿è¡Œçš„å›¾å½¢åŒ–åº”ç”¨ç¨‹åºã€‚ è¿™å¥è¯çš„å«ä¹‰ç°åœ¨çœ‹æ¥ååˆ†ä¸°å¯Œ ç¼–ç¨‹è¯­è¨€ ç¼–ç¨‹è¯­è¨€çš„é€‰æ‹©æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚Cã€C++ã€Pythonã€Javaã€Rustç­‰ç­‰ ç¼–ç¨‹è¯­è¨€åº”å½“å‘æŒ¥å®ƒçš„é•¿å¤„ï¼Œä¸ºé¡¹ç›®æä¾›å¼€å‘æ•ˆç‡çš„æå‡ã€å®‰å…¨æ€§çš„æé«˜ã€å¯è¯»æ€§çš„å¢å¼ºã€è¿è¡Œé€Ÿåº¦çš„æå‡è¿™äº›å¥½å¤„ ç”±äºè¯¾ç¨‹è¦æ±‚ï¼Œæœ¬é¡¹ç›®åªèƒ½ä½¿ç”¨Cå¼€å‘ IDE é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ä¸ºæˆ‘ä»¬çœç•¥äº†å¤§é‡ç¯å¢ƒæ­å»ºçš„è¿‡ç¨‹ï¼Œæé«˜åœ°æå‡äº†å¼€å‘é€Ÿåº¦ï¼Œä½†æ˜¯æˆ‘ä»¬æ˜¯éœ€è¦å¯¹é¡¹ç›®çš„ç¼–è¯‘ã€è°ƒè¯•è¿‡ç¨‹æœ‰æ‰€äº†è§£çš„ï¼Œè¿™ä¹ŸåˆåŠ©äºæˆ‘ä»¬æ›´å¥½åœ°ä½¿ç”¨IDEï¼Œç¯å¢ƒæ­å»ºçš„å…·ä½“è¿‡ç¨‹å°†åœ¨åæ–‡å™è¿° IDEçš„é€‰æ‹©å¾ˆå¤šï¼Œæœ‰VSï¼ŒCLionï¼ŒIDEAï¼ŒPycharmç­‰ è¦æƒ³äº†è§£IDEçš„ç¯å¢ƒæ­å»ºè¿‡ç¨‹ï¼Œå¿…é¡»å¯¹ç‰¹å®šè¯­è¨€çš„ç‰¹æ€§å’Œç¼–è¯‘ï¼ˆè§£é‡Šï¼‰æ–¹å¼ååˆ†äº†è§£ è¿è¡Œç¯å¢ƒ è¿è¡Œç¯å¢ƒåœ¨æˆ‘çš„ç†è§£ä¸‹åº”è¯¥æŒ‡çš„å°±æ˜¯æ“ä½œç³»ç»Ÿï¼Œåº”ç”¨ç¨‹åºä½¿ç”¨æ“ä½œç³»ç»Ÿæä¾›çš„APIå’Œæ–‡ä»¶ç³»ç»Ÿç­‰ï¼Œç¨‹åºåº”å½“ä¿è¯å¯¹ç‰¹å®šæ“ä½œç³»ç»Ÿçš„å…¼å®¹æ€§ æœ‰ä¸€ä¸ªä¾‹å¤–æ˜¯æ“ä½œç³»ç»Ÿçš„ç¼–å†™ï¼Œæ“ä½œç³»ç»Ÿçš„å†…æ ¸æœ¬èº«åº”å½“æ˜¯æœºå™¨æœ‰å…³çš„ï¼Œå¯ä»¥è®¤ä¸ºï¼Œæ“ä½œç³»ç»Ÿå†…æ ¸ç”±æœºå™¨æ¶æ„æä¾›ç¯å¢ƒï¼Œè€Œåº”ç”¨ç¨‹åºç”±æ“ä½œç³»ç»Ÿæä¾›ç¯å¢ƒ ç¨‹åºç±»å‹ æœ¬é¡¹ç›®çš„ç±»å‹æ˜¯å›¾å½¢åŒ–åº”ç”¨ç¨‹åº Windowsä¸Šçš„ç¨‹åºç±»å‹åº”è¯¥è¿˜æœ‰æ§åˆ¶å°åº”ç”¨ç¨‹åºç­‰ï¼Œæ›´å¤šçš„ç»†èŠ‚éœ€è¦å¯¹Windowsæ›´åŠ äº†è§£ ç›¸å…³èƒŒæ™¯çŸ¥è¯† ç”±äºå¾ˆéš¾ä¸€å¼€å§‹å°±å¯¹æŸä¸ªé¢†åŸŸçš„ç»†ææœ«èŠ‚äº†è§£çš„ååˆ†æ¸…æ™°ï¼Œåœ¨é¢å¯¹ä¸€ä¸ªæ–°é¡¹ç›®æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è·å–é¡¹ç›®ç›¸å…³çš„èƒŒæ™¯çŸ¥è¯† æ¯”å¦‚è¯´è¿™ä¸ªé¡¹ç›®æœ‰å…³æ’åºå’Œå¯è§†åŒ–ï¼Œæˆ‘ä»¬å°±è¦å»äº†è§£æ’åºç›¸å…³çš„çŸ¥è¯†å’Œå›¾å½¢åº“ç›¸å…³çš„çŸ¥è¯† å¦‚æœè¿™ä¸ªé¡¹ç›®æœ‰å…³æ“ä½œç³»ç»Ÿï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¦å»è·å–æ“ä½œç³»ç»Ÿçš„è®¾è®¡å’Œæœºå™¨æ¶æ„ç›¸å…³çš„èƒŒæ™¯çŸ¥è¯† ç”šè‡³å½“ä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¹Ÿä¼šé‡åˆ°è¯­è¨€è¯­æ³•çš„å¡å£³ï¼Œè¿™æ—¶å€™ä¸€ä»½Cè¯­è¨€å‚è€ƒæ–‡æ¡£å°±ååˆ†é‡è¦ å¯ä»¥è‡ªå·±æ•´ç†ä¸€å¥—è‡ªå·±çš„å¸¸ç”¨å¼€å‘å‚è€ƒï¼Œåœ¨å¿…è¦æ—¶ä½¿ç”¨stackoverflowæˆ–è€…æ˜¯ChatGPT é¡¹ç›®å¤§çº² åé¢æˆ‘åˆè¯´ï¼Œè¿‡å‡ å¤©å¼€ä¸ªä¼šï¼ŒæŠŠé¡¹ç›®çš„æ¨¡å—åˆ†ä¸€ä¸‹ï¼Œå‰é¢çš„æŒ‡æŒ¥è°ƒåº¦å·²ç»å»ºç«‹äº†æˆ‘ç»„é•¿çš„å¨ä¿¡ï¼Œç»„å‘˜ä»¬çº·çº·ç›¸ä¿¡æˆ‘çš„èƒ¡è¨€ä¹±è¯­ï¼Œäºæ˜¯æˆ‘ä»¬èŠ±äº†ä¸€ä¸ªä¸‹åˆçš„æ—¶é—´ï¼Œç»™é¡¹ç›®å¼„äº†ä¸ªæ€ç»´å¯¼å›¾ã€‚ é¡¹ç›®çš„å¤§çº²æ˜¯é‡è¦çš„ï¼Œå› ä¸ºå„ç§æ¨¡å—çš„è§£è€¦æ˜¯å¦‚æ­¤åœ°å›°éš¾ï¼Œä»åˆšå¼€å§‹å°±æœ‰ä¸€ä¸ªå¤§ä½“çš„æ¡†æ¶å’Œåˆ’åˆ†æ¨¡å—çš„æ„è¯†æ˜¯å¿…è¦çš„ å¤§çº²æˆä¸ºæ¡†æ¶ å¤§çº²çš„ä»£ç åŒ–å°±æ˜¯é¡¹ç›®æ¡†æ¶ï¼Œå¦‚ä½•ç¼–å†™ä¸€ä¸ªå¥½çš„æ¡†æ¶è‡³å…³é‡è¦ï¼Œä½†æ˜¯æˆ‘ä¹Ÿä¸ä¼šã€‚æ ¹æ®æˆ‘çš„ç»éªŒæ¥è¯´ï¼Œæ¡†æ¶è¦æ»¡è¶³çš„è¦æ±‚æ˜¯ï¼Œåˆ’åˆ†å¥½ç‹¬ç«‹çš„æ¨¡å—ï¼Œèƒ½å¤Ÿæä¾›æ·»åŠ æ¨¡å—çš„æ¥å£å’Œå»é™¤æ¨¡å—çš„æ–¹æ³•ã€‚ é¡¹ç›®æ¡†æ¶ä¸æ˜¯å®Œç¾çš„ï¼Œå¥½çš„æ¡†æ¶å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šå‡å°‘è§£è€¦çš„å·¥ä½œé‡ï¼Œä½†æ˜¯è§£è€¦åœ¨é¡¹ç›®å¼€å‘çš„è¿‡ç¨‹ä¸­ä»ç„¶æ˜¯å¿…ä¸å¯å°‘çš„ã€‚ ä»…ä»…åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘è§‰å¾—æ¡†æ¶å°±æ˜¯å†™å¥½å„ä¸ªæ¨¡å—çš„å¤´æ–‡ä»¶ï¼Œç„¶åä»¥main.cå¼€å§‹ï¼Œç”¨æ ‘å½¢ç»“æ„ç¡®å®šæ¯ä¸ªæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œå†å†™å¥½ç›¸åº”æºä»£ç çš„å¤´æ–‡ä»¶è°ƒç”¨ã€‚ç›¸äº’ç‹¬ç«‹çš„æ¨¡å—æˆ–è€…ç›¸äº’ä¼ é€’æ•°æ®çš„æ¨¡å—è¡¨ç°ä¸ºåŒä¸€è¾ˆåˆ†ï¼Œè€Œä¾èµ–äºå­æ¨¡å—åŠŸèƒ½çš„æ¨¡å—åˆ™è¡¨ç°ä¸ºçˆ¶èŠ‚ç‚¹ã€‚ ç¯å¢ƒæ­å»º è€å¸ˆç›´æ¥æ¨èIDE VS2017å¼€å‘ï¼Œæˆ‘ä»¬å½“æ—¶å¯¹ç¯å¢ƒæ­å»ºä¹Ÿæ˜¯ä¸€ç‚¹ä¸æ‡‚ï¼ŒIDEå¾ˆå¥½åœ°å¤„ç†äº†è¿™é¡¹å·¥ä½œï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨æäº¤æ—¶åœ¨æƒ³ï¼Œåˆ«äººæ€ä¹ˆçœ‹åˆ°æˆ‘ä»¬æœ€åå±•ç°å‡ºæ¥çš„æˆæœï¼Œæˆ‘ä»¬æäº¤çš„é¡¹ç›®åªæœ‰ä»£ç ï¼Œåˆ«äººåº”è¯¥æ€ä¹ˆè¿è¡Œå®ƒã€‚ç»„å‘˜ç”šè‡³é—®äº†ä¸€ä¸ªé—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆå¹³å°é‡Œé¢çš„Debugå’Œreleaseæ˜¯ä»€ä¹ˆæ„æ€ï¼Œx86å’Œx64åˆæ˜¯ä»€ä¹ˆæ„æ€ï¼Œæˆ‘æ‘‡æ‘‡å¤´ï¼Œå› ä¸ºæˆ‘ä¹Ÿå¯¹æ­¤ä¸€æ— æ‰€çŸ¥ã€‚ ç¼–è¯‘å™¨ å¯¹äºCè¯­è¨€çš„é¡¹ç›®æ¥è¯´ï¼ŒæŒæ¡CALLçš„æ–‡ä»¶ç¼–è¯‘è¿‡ç¨‹ååˆ†é‡è¦ï¼Œåˆ†åˆ«æ˜¯ç¼–è¯‘å™¨æŠŠCè¯­è¨€è½¬åŒ–ä¸ºx86çš„æ±‡ç¼–å½¢å¼ï¼Œæ±‡ç¼–å™¨æŠŠæ±‡ç¼–å½¢å¼è½¬æ¢ä¸ºäºŒè¿›åˆ¶å½¢å¼ï¼Œé“¾æ¥å™¨å¤„ç†å¥½å„å¯¹è±¡æ–‡ä»¶çš„å…³ç³»ï¼Œæ‰§è¡Œå™¨è´Ÿè´£æ‰§è¡Œç¨‹åºã€‚ ç¼–è¯‘è¿‡ç¨‹æœ‰å¾ˆå¤šçš„ç¼–è¯‘å™¨è½¯ä»¶å¼€å‘åŒ…å¯ä»¥å®Œæˆï¼Œæ¯”å¦‚è¯´gccï¼Œclangï¼Œåœ¨winå¹³å°è¿˜æœ‰MinGWï¼ŒVS2017ä½¿ç”¨çš„åº”è¯¥æ˜¯MSVCå·¥å…·é“¾ï¼ŒåŒ…æ‹¬å¸¸ç”¨çš„ç¼–è¯‘å™¨å’Œè°ƒè¯•å™¨å·¥å…· æ„å»ºå·¥å…· ä½¿ç”¨Makeæˆ–è€…CMakeï¼Œè‡ªå·±ä½¿ç”¨Makeæ˜¯æ˜ç™½ä¸€äº›IDEå¤§å‹é¡¹ç›®çš„æ„å»ºè¿‡ç¨‹çš„å¼€å§‹ï¼Œå¦å¤–å¤šé˜…è¯»å…¶ä»–é¡¹ç›®çš„Makefileä¹Ÿæœ‰åŠ©äºç†è§£æ„å»ºè¿‡ç¨‹ ç¯å¢ƒå˜é‡ ç¯å¢ƒå˜é‡æ˜¯æ“ä½œç³»ç»Ÿç”¨äºæ§åˆ¶è¿è¡Œç¯å¢ƒçš„å‚æ•° å›¢é˜Ÿå¼€å‘ åé¢æˆ‘ä»¬è¿›å…¥äº†æ„‰å¿«çš„å†™æ¨¡å—ç¯èŠ‚ï¼ŒæœŸé—´æˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œæ¯ä¸ªäººéƒ½æ”¹ä»£ç ï¼Œæ€ä¹ˆä¸€èµ·å¼€å‘å‘¢ï¼Œæœ¬æ¥ç»„å‘˜è¯´ç”¨LiveShareï¼Œåé¢æ²¡ææˆå°±å˜æˆç¾¤é‡Œå‘å‹ç¼©æ–‡ä»¶äº†ã€‚è¿™æ ·çš„ç»“æœæ˜¯åœ¨åŒä¸€æ—¶é—´æ®µæˆ‘ä»¬è¿˜æ˜¯åªèƒ½æœ‰ä¸€ä¸ªäººä¿®æ”¹ã€‚æ‰€å¹¸æœ€åæ˜¯æˆåŠŸå®Œæˆäº†ã€‚ æ³¨é‡Š æ³¨é‡Šå’Œå˜é‡å‘½åæ— è®ºæ˜¯å¯¹å•äººè¿˜æ˜¯å¤šäººå¼€å‘éƒ½æ˜¯å¾ˆé‡è¦çš„ï¼Œå†™å¥½å‡½æ•°æ¥å£çš„æ³¨é‡Šæ— è®ºå¯¹å…¶ä»–çš„è´¡çŒ®è€…è¿˜æ˜¯åæ¥çš„ä½ éƒ½æ˜¯å¤§æœ‰å¸®åŠ©ã€‚ ç‰ˆæœ¬æ§åˆ¶ åº”è¯¥ä½¿ç”¨git/githubå¤šäººå·¥ä½œæµã€‚ è°ƒè¯• ç”¨GDBæˆ–è€…IDEè‡ªå¸¦çš„è°ƒè¯•å™¨ è¿è¡Œç»´æŠ¤ â€¦","link":"/2023/04/24/Zero-Project/"},{"title":"MIT 6.S081 Lab cow","text":"Compulsory exercises Preparation To start the lab, switch to the cow branch: 123git fetchgit checkout cowmake clean OSçœŸä¸æ˜¯äººå†™çš„æŠŠğŸ˜­ Implement copy-on write(hard) å½“xv6 forkä¸€ä¸ªå­è¿›ç¨‹æ—¶ï¼Œéœ€è¦å¤åˆ¶çˆ¶è¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œè¿™ä¸ä»…å ç”¨äº†ç©ºé—´ï¼Œä¹Ÿæ¶ˆè€—äº†æ—¶é—´ï¼Œä½ çš„ä»»åŠ¡æ˜¯é‡‡ç”¨å†™æ—¶å¤åˆ¶ï¼Œfork()æ—¶childä½¿ç”¨parentçš„å†…å­˜ç©ºé—´ï¼Œå³å­è¿›ç¨‹æ˜ å°„åˆ°çˆ¶è¿›ç¨‹çš„ç‰©ç†ç©ºé—´ä¸Šï¼Œå½“è¿›ç¨‹è¦å†™æ—¶ï¼Œè§¦å‘Page Fault å®ç°COW ä¿®æ”¹uvmcopy()ä»¥åœ¨fork()æ—¶ä¸åˆ†é…æ–°pageï¼Œè€Œæ˜ å°„åˆ°çˆ¶è¿›ç¨‹ vm.c uvmcopy()1234567891011121314151617181920212223242526272829303132intuvmcopy(pagetable_t old, pagetable_t new, uint64 sz){ pte_t *pte; uint64 pa, i; uint flags; for(i = 0; i &lt; sz; i += PGSIZE){ if((pte = walk(old, i, 0)) == 0) panic(&quot;uvmcopy: pte should exist&quot;); if((*pte &amp; PTE_V) == 0) panic(&quot;uvmcopy: page not present&quot;); pa = PTE2PA(*pte); acquire(&amp;cnt_lock); cnt[((uint64)pa) &gt;&gt; 12] += 1; release(&amp;cnt_lock); *pte = *pte &amp; (~PTE_W); *pte = *pte | (PTE_RSW); flags = PTE_FLAGS(*pte); if(mappages(new, i, PGSIZE, (uint64)pa, flags) != 0){ goto err; } } return 0; err: uvmunmap(new, 0, i / PGSIZE, 1); return -1;} ä¿®æ”¹usertrap()ä»¥å¤„ç†Page Fault trap.c usertrap()123456else if ((r_scause() == 15)) { uint64 va = r_stval(); if (cow(p-&gt;pagetable, va) &lt; 0) { p-&gt;killed = 1; }} æ·»åŠ PTE_RSWæ ‡å¿—ä½ç”¨äºæ ‡è¯†æ˜¯å¦æ˜¯cow page riscv.h1#define PTE_RSW (1L &lt;&lt; 8) æ·»åŠ cowå¤„ç†å‡½æ•° vm.c1234567891011121314151617181920212223242526272829303132int cow(pagetable_t pagetable, uint64 va) { if (va &gt;= MAXVA) { return -1; } pte_t* pte = walk(pagetable, va, 0); if (pte == 0) { return -1; } if ((*pte &amp; PTE_V) == 0) { return -1; } if ((*pte &amp; PTE_RSW) == 0) { return -1; } if ((*pte &amp; PTE_U) == 0) { return -1; } uint64 pa = PTE2PA(*pte); uint64 ka = (uint64) kalloc(); if (ka == 0) { return -1; } else { memmove((char*)ka, (char*)pa, PGSIZE); uint64 flags = PTE_FLAGS(*pte); *pte = PA2PTE(ka) | flags | PTE_W; *pte &amp;= (~PTE_RSW); kfree((void *)pa); return 0; }} ä¿®æ”¹copyout() vm.c12345678910111213141516171819202122232425262728293031323334intcopyout(pagetable_t pagetable, uint64 dstva, char *src, uint64 len){ uint64 n, va0, pa0; while(len &gt; 0){ va0 = PGROUNDDOWN(dstva); pa0 = walkaddr(pagetable, va0); if(pa0 == 0) return -1; pte_t* pte = walk(pagetable, va0, 0); if (pte == 0) { return -1; } if ((*pte &amp; PTE_W) == 0) { if (cow(pagetable, va0) &lt; 0) { return -1; } } pa0 = PTE2PA(*pte); n = PGSIZE - (dstva - va0); if(n &gt; len) n = len; memmove((void *)(pa0 + (dstva - va0)), src, n); len -= n; src += n; dstva = va0 + PGSIZE; } return 0;} æ·»åŠ è®¡æ•°å™¨å’Œé”ï¼Œå¹¶åœ¨æ¯æ¬¡forkæ˜¯å¢åŠ è®¡æ•°ï¼Œåœ¨freeæ—¶åªæœ‰è®¡æ•°ä¸º0æ—¶æ‰èƒ½çœŸæ­£free kalloc.c12struct spinlock cnt_lock;int cnt[PHYSTOP &gt;&gt; 12]; Optional challenge exercises Modify xv6 to support both lazy page allocation and COW. Measure how much your COW implementation reduces the number of bytes xv6 copies and the number of physical pages it allocates. Find and exploit opportunities to further reduce those numbers.","link":"/2023/04/23/6-S081-Lab-cow/"},{"title":"MIT 6.S081 Lecture 16: File system performance and fast crash recovery","text":"Reading Read Journaling the Linux ext2fs Filesystem (1998) Information ç¬¬ä¸€èŠ‚OSè®ºæ–‡çš„é˜…è¯»è®²åº§ ext3 â€œlogâ€ = journal ext3 = ext2 + journal xv6 log review ext3 log ext3 log format ASYNC Batching Concurrency ext3 code steps in commit","link":"/2023/04/22/6-S081-Lecture-16/"},{"title":"MIT 6.S081 Lecture 15: Crash recovery","text":"Reading Read logging sections of â€œFile systemâ€ read code Information æœ€åä¸€èŠ‚å…³äºxv6çš„è®²åº§äº†ï¼Œåé¢çš„é‡ç‚¹ä¼šæ”¾åœ¨æ“ä½œç³»ç»Ÿè®ºæ–‡çš„é˜…è¯»ä¸Š å†è§äº†æ‰€æœ‰çš„xv6 ğŸ˜­ Problem crashå¦‚ç”µæºä¸­æ–­ï¼Œç³»ç»Ÿé‡å¯ç­‰ crashä¼šä½¿å¾—å»ºç«‹åœ¨ç£ç›˜ä¸Šçš„æ–‡ä»¶ç³»ç»Ÿè¿›å…¥ä¸æ­£ç¡®çš„çš„çŠ¶æ€ï¼Œæ€æ ·ä¿è¯crashåç»´æŒæ­£ç¡®çš„çŠ¶æ€å‘¢ï¼Ÿ è§£å†³æ–¹æ¡ˆæ˜¯logging Risk æ–‡ä»¶ç³»ç»Ÿçš„æ“ä½œæ˜¯å¤šæ­¥çš„ å¦‚æœcrashåé‡å¯ï¼Œå¾ˆå¯èƒ½è¦ä¹ˆå†æ¬¡crashï¼Œè¦ä¹ˆè¯»å†™äº†é”™è¯¯çš„æ•°æ® logging logçš„æ­¥éª¤ log writes commit op install clean log logèƒ½å¤Ÿä¿è¯æ–‡ä»¶ç³»ç»Ÿæ“ä½œçš„åŸå­æ€§ï¼Œå¹¶æä¾›å¿«é€Ÿæ¢å¤çš„èƒ½åŠ›ï¼Œåœ¨ä¸åŒæ­¥éª¤crashéƒ½æœ‰ä¸åŒçš„æ¢å¤æ–¹æ¡ˆ logçš„å†…å®¹ å†…å­˜ä¸­æœ‰ç£ç›˜ä¸­logçš„cache Challenges eviction ä¸è¦é©±é€æ­£åœ¨logçš„block fs operation must fit log logé™åˆ¶äº†æ–‡ä»¶ç³»ç»Ÿä¸€æ¬¡æœ€å¤šåªèƒ½æ“ä½œ30ä¸ªblock concurrent fs calls å¹¶è¡Œçš„æ–‡ä»¶ç³»ç»Ÿæ“ä½œä¹Ÿè¦ç¬¦åˆä¸Šä¸€æ¡logçš„é™åˆ¶ Summary log for multi-step ops But: performance","link":"/2023/04/22/6-S081-Lecture-15/"},{"title":"Network Protocol","text":"Introduction è®¡ç®—æœºç½‘ç»œçš„æ¶æ„åˆ†ä¸ºå¾ˆå¤šå±‚ï¼Œå…¶ä¸­ä¸»æµçš„åˆ†ç±»æ–¹æ³•æ˜¯å››å±‚çš„TCP/IPç»“æ„ï¼Œæœ¬æ–‡å°†ä»è¿™å››å±‚ç»“æ„å‡ºå‘ï¼ˆåˆæ˜¯è‡ªé¡¶å‘ä¸‹ğŸ˜†ï¼‰ï¼Œä»‹ç»å±äºç½‘ç»œä¸åŒå±‚çš„ç½‘ç»œåè®®ã€‚ Layer åº”ç”¨å±‚ HTTP è¿è¾“å±‚ TCP UDP ç½‘ç»œå±‚ IP é“¾è·¯å±‚ Ethernet","link":"/2023/04/20/Network-Protocol/"},{"title":"MIT 6.S081 Lecture 14: File systems","text":"Reading Read Chapter8 read code File System User-friendly names/pathnames Share files between users/process Persistence/durability Why intersting? Abstraction is useful Crash safety Disk layout Performance -&gt; Storage devices are slow -&gt; to be fast storage -&gt; buffercache device -&gt; concurrency API example xv6æ–‡ä»¶ç³»ç»Ÿæä¾›çš„APIå®ç°äº†æ–‡ä»¶ç³»ç»ŸåŸºæœ¬çš„ç”¨æˆ·çº§æ“ä½œ FS structure inodeå«æœ‰æ–‡ä»¶çš„ä¿¡æ¯ï¼Œä»£è¡¨ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ inodeçš„å¤§å°æ˜¯64Bytes FS Layer æ–‡ä»¶ç³»ç»Ÿçš„å¤šå±‚ç»“æ„æŠ½è±¡äº†ç¡¬ä»¶ï¼Œå¹¶ä¸ºè½¯ä»¶æä¾›äº†æ¥å£ Storage devices è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯sectorå’Œblockçš„å¤§å°ï¼Œåœ¨xv6ä¸­ sector -&gt; 512Bytes block -&gt; 1024Bytes è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œblockçš„å¤§å°ç”±ä»€ä¹ˆå†³å®šï¼Œæ˜¯è½¯ä»¶è¿˜æ˜¯ç¡¬ä»¶ï¼Œä¸ªäººè®¤ä¸ºè¿™é‡Œçš„blockæ˜¯ç”±xv6çš„è®¾è®¡å†³å®šçš„ Disk layout è¿™å°±æ˜¯æ–‡ä»¶ç³»ç»Ÿåœ¨ç£ç›˜ä¸Šçš„æ¶æ„ï¼Œå•ä½æ˜¯block(1024B) block0 -&gt; boot block1 -&gt; superblocks block2-31 -&gt; log block32-44 -&gt; inode æ¯ä¸ªinode 64B block45 -&gt; bitmap block46-â€¦ -&gt; data On-disk inode inodeæ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œå¤§å°64Bï¼ŒåŒ…å«äº†æ–‡ä»¶çš„åŸºæœ¬ä¿¡æ¯å’Œæ•°æ®æ˜ å°„ typeä»£è¡¨äº†æ–‡ä»¶çš„ç±»å‹ï¼Œå¦‚æ–‡ä»¶æˆ–ç›®å½• nlink sizeæ–‡ä»¶çš„å¤§å° bn0-bn11 -&gt; direct block number æ¯ä¸ªbnéƒ½æ˜¯4Bçš„åœ°å€ ç›´æ¥æ˜ å°„åˆ°12ä¸ªblockçš„åœ°å€ bn12 -&gt; indirect block number bn12æ˜¯ä¸€ä¸ª4Bçš„åœ°å€ æ˜ å°„åˆ°ä¸€ä¸ªblockï¼Œè¿™ä¸ªblockåŒ…å«äº†256ä¸ªbnç›´æ¥æ˜ å°„åˆ°256ä¸ªblock ä¸€ä¸ªblock(1024B)å¯åŒ…å«1024B/4B = 256ä¸ªbn æ€»å…±çš„ç›´æ¥æ˜ å°„bnæ•°é‡12+256 = 268ä¸ª æ–‡ä»¶çš„æœ€å¤§å¤§å°268*1024B = 268KB Directory ç›®å½•æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå®ƒçš„dataä¸­åŒ…å«äº†ç‰¹æ®Šçš„æ•°æ®ç»“æ„entry(16B)ï¼Œå¯ä»¥æŠŠæ–‡ä»¶åå’Œæ–‡ä»¶ç´¢å¼•è”ç³»èµ·æ¥ â€œ/y/x&quot;ä¸­ç¬¬ä¸€ä¸ªâ€/&quot;çš„æ„æ€æ˜¯root inodeï¼Œå…¶ç´¢å¼•ä¸º1 Bcache(block cache) one copy of block in memory sleep locks LRU two levels of locking protect bcache sleep locks Summary fs = on-disk data structure block cache","link":"/2023/04/20/6-S081-Lecture-14/"},{"title":"MIT 6.S081 Lecture 13: Q&amp;A labs","text":"COW lab","link":"/2023/04/20/6-S081-Lecture-13/"},{"title":"Bit operation","text":"åŸºæœ¬è¿ç®— 1.&amp; è¿ç®—ç¬¦ ä¸è¿ç®—ç¬¦ï¼Œä¸¤ä½éƒ½ä¸º1æ—¶ï¼Œç»“æœä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚ 2.| è¿ç®—ç¬¦ æˆ–è¿ç®—ç¬¦ï¼Œä¸¤ä½éƒ½ä¸º0æ—¶ï¼Œç»“æœä¸º0ï¼Œå¦åˆ™ä¸º1ã€‚ 3.^ è¿ç®—ç¬¦ å¼‚æˆ–è¿ç®—ç¬¦ï¼Œä¸¤ä½ç›¸åŒæ—¶ä¸º1ï¼Œä¸åŒä¸º0ã€‚ 4.~ è¿ç®—ç¬¦ å–åè¿ç®—ç¬¦ï¼ŒæŒ‰ä½å–åã€‚ 5.&lt;&lt; å·¦ç§»è¿ç®—ç¬¦ å‘å·¦ç§»åŠ¨xä½ï¼Œæ•°å€¼å¤§å°å˜ä¸ºåŸæ¥çš„2xå€ å–æ¨¡ï¼Œä¾‹å¦‚intå‹æ•´æ•°æœ‰32ä½ï¼Œè‡³å¤šç§»32ä½ï¼Œå¯¹äº1&lt;&lt;35,1&lt;&lt;3ç»“æœæ˜¯ç›¸åŒçš„ã€‚ 6.&gt;&gt; å³ç§»è¿ç®—ç¬¦ å‘å³ç§»åŠ¨xä½ï¼Œæ•°å€¼å¤§å°ç¼©å°ä¸ºåŸæ¥çš„2xå€ï¼Œç”±é€»è¾‘å³ç§»å’Œç®—æ•°å³ç§»ä¸¤ç§ï¼Œåœ¨C++ä¸­å–å†³äºæ•°æ®ç±»å‹ è¿ç®—å®šå¾‹ äº¤æ¢å¾‹å§‹ç»ˆæˆç«‹ ç»“åˆå¾‹åªå¯¹å•ä¸€è¿ç®—æˆç«‹ &amp; |æ˜¯ä¸å¯é€†è¿ç®—ï¼Œé€ æˆä¿¡æ¯ä¸¢å¤±ï¼Œä»…ä»…æ„æˆäº¤æ¢å¹ºåŠç¾¤ ^ ç¬¦åˆç»“åˆå¾‹ï¼Œ^0ä¸å˜ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ^ è¿ç®—åœ¨S = {0, 1}ä¸‹æ„æˆä¸€ä¸ªå¹ºåŠç¾¤ï¼Œå…¶å•ä½å…ƒä¸º0ï¼Œä¸”ä»»æ„å…ƒç´ çš„å¯é€†å…ƒç´ ä¸ºè‡ªèº«ï¼Œåˆ™æ„æˆäº†ä¸€ä¸ªç¾¤ï¼Œå¦å¤–ï¼Œç”±äºä½è¿ç®—äº¤æ¢å¾‹å§‹ç»ˆæˆç«‹ï¼Œè¿™ä¸ªç¾¤åˆæ˜¯ä¸€ä¸ªé˜¿è´å°”ç¾¤ï¼ˆäº¤æ¢ç¾¤ï¼‰ã€‚ è¯æ˜å¦‚ä¸‹ $ æˆ‘ä»¬è¯´(S, *)æ˜¯ä¸€ä¸ªå¹ºåŠç¾¤,è¯¥äºŒå…ƒè¿ç®—æ»¡è¶³ç»“åˆå¾‹ï¼Œä¸”å…·æœ‰å•ä½å…ƒï¼Œå³ $ $$ (1)\\forall x, y, z \\in S, x * (y * z) = (x * y) * z $$ $$ (2)\\exists 0 \\in S, \\forall x \\in S, 0 * x = x * 0 = x $$ $ å› ä¸º(S, *)æ˜¯ä¸€ä¸ªå¹ºåŠç¾¤ï¼Œä¸”Sä¸­æ‰€æœ‰å…ƒç´ å¯é€†ï¼Œæˆ‘ä»¬è¯´(S, *)æ˜¯ä¸€ä¸ªç¾¤ï¼Œå³ $ $$ \\forall x \\in G, \\exists y \\in G, x * y = y * x = 0 $$ $ ç”±äºä½è¿ç®—ç¬¦åˆäº¤æ¢å¾‹ï¼Œ(S, *)åˆæ˜¯ä¸€ä¸ªé˜¿è´å°”ç¾¤ $ è¿™ä¸ªè¯æ˜å¯ä»¥æ¨å¹¿åˆ°ä»»æ„ä½çš„äºŒè¿›åˆ¶æ•°ä¸Šï¼Œå•ä½å…ƒä»æ˜¯0b0,é€†å…ƒä»æ˜¯å…ƒç´ æœ¬èº« å¸¸ç”¨æ“ä½œ &amp; | ^ å¯¹bitçš„å½±å“ &amp;0å˜0 &amp;1ä¸å˜ |0ä¸å˜ |1å˜1 ^0ä¸å˜ ^1ä½å–å example12345678910111213141516170 &amp; 0 -&gt; 01 &amp; 0 -&gt; 00 &amp; 1 -&gt; 01 &amp; 1 -&gt; 10 | 0 -&gt; 01 | 0 -&gt; 10 | 1 -&gt; 11 | 1 -&gt; 10 ^ 0 -&gt; 01 ^ 0 -&gt; 10 ^ 1 -&gt; 11 ^ 1 -&gt; 0 äºŒè¿›åˆ¶è¡¥ç ç›¸åæ•° example123456int negate(int x) { return (~x) + 1;}// å–åå†åŠ ä¸€int x = 0x1; // x == 1int y = ~x + 1; // y == 0x1111...1110 + 1 == -1 äº¤æ¢ä¸¤ä¸ªæ•´æ•°å€¼ / äº¤æ¢ä¸”ä¿è¯ä¸¤ä¸ªæ•°çš„äºŒè¿›åˆ¶ä½æ¨¡å¼ä¸å˜ example123456int swap(int &amp;a,int &amp;b){ a = a ^ b; b = a ^ b; a = a ^ b;} åˆ¤æ–­å¥‡å¶ example12345if((a &amp; 1) == 0){ //æ˜¯ä¸ªå¶æ•°}else //æ˜¯ä¸ªå¥‡æ•° å¥‡æŠ€æ·«å·§ï¼Ÿ ä½è¿ç®—å®ç°x ? y : z example1234int conditional(int x, int y, int z) { x = !!x; return (~x + 1) &amp; y | ~(~x + 1) &amp; z;}","link":"/2023/04/16/Bit-operation/"},{"title":"RISC-V","text":"Introduction RISC-Væ˜¯ä¸€ç§ç²¾ç®€æŒ‡ä»¤é›†æ¶æ„çš„æ±‡ç¼–è¯­è¨€ Feeling RISC-Vçš„æ ¸å¿ƒè¯´æ˜æ–‡æ¡£åªæœ‰ä¸€é¡µçº¸é‚£ä¹ˆå¤§ï¼Œç›¸æ¯”èµ·x86è‡ƒè‚¿çš„æŒ‡ä»¤é›†æ¶æ„ï¼ŒRISC-Vçš„ç®€å•æ˜“å­¦å¾ˆé€‚åˆä½œä¸ºæ±‡ç¼–è¯­è¨€çš„å…¥é—¨ï¼Œè¿‘å¹´æ¥æŒ‡ä»¤é›†æ¶æ„ä¹Ÿæœ‰ä»CISCåˆ°RISCè½¬å˜çš„å€¾å‘ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†çš„æœºå™¨ä»ç„¶åœ¨x86ä¸‹è¿è¡Œï¼Œæ•´ä¸ªä¸–ç•Œçš„ç»“æ„å¯ä»¥è¯´æ˜¯ä»¥x86ä¸ºä¸»æµçš„ã€‚ Links RISC-V Green Card in CS61C è¯¦å°½æ–‡æ¡£ ISA updatingâ€¦","link":"/2023/04/16/RISC-V/"},{"title":"MIT 6.S081 Lecture 12: Scheduling 2","text":"Reading Read remainder of â€œSchedulingâ€ read code Sleep and Wake up Deadlock é€ æˆæ­»é”çš„æƒ…å†µæ˜¯ï¼Œp1è·å–äº†é”ï¼Œä½†æ˜¯é€šè¿‡swtchåˆ‡æ¢äº†è¿›ç¨‹ï¼Œå¦ä¸€ä¸ªè¿›ç¨‹p2ä¹Ÿæƒ³è¦è·å–é”ï¼Œä½†p1å¹¶æ²¡æœ‰é‡Šæ”¾é”ï¼Œäºæ˜¯p2è¿›å…¥äº†å¾ªç¯ç­‰å¾…çš„è¿‡ç¨‹ä¸­ï¼Œè€Œè¿™ç§æƒ…å†µæ˜¯æ— æ³•åœæ­¢ä¸‹æ¥çš„ï¼Œè¿™æ ·è·å–é”å’Œè§£é™¤é”çš„é¡ºåºä¸åŒå¯¼è‡´çš„é—®é¢˜å°±å«åšæ­»é” Coodination Lost Wakeups","link":"/2023/04/15/6-S081-Lecture-12/"},{"title":"MIT 6.S081 Lecture 11: Scheduling 1","text":"Reading Read â€œSchedulingâ€ through Section 7.4 read code Thread thread - one serial execution ä¸€ä¸ªä¸²è¡Œæ‰§è¡Œä»£ç çš„å•å…ƒï¼Œåªå ç”¨ä¸€ä¸ªcpu ä¸€ä¸ªçº¿ç¨‹åŒºåˆ«äºå…¶ä»–çº¿ç¨‹çš„åœ°æ–¹æ˜¯pc, regs, stack interleave thread multi core switch shared memory? -&gt; Locks xv6 å†…æ ¸çº¿ç¨‹å…±äº«äº†å†…å­˜ xv6 ç”¨æˆ·è¿›ç¨‹ä¸å…±äº«å†…å­˜ Linux ç”¨æˆ·è¿›ç¨‹å…±äº«å†…å­˜ å…¶ä»–çš„å¤šä»»åŠ¡è§£å†³æ–¹æ¡ˆ äº‹ä»¶é©±åŠ¨ç¼–ç¨‹ çŠ¶æ€æœº challenge switch - interleave çº¿ç¨‹è°ƒåº¦ï¼ˆschedulingï¼‰ what to save / restore compute - bound è¿ç®—å¯†é›†è¿›ç¨‹ä¸è‚¯è®©å‡ºcpu timer interrupts kernel handler yield - switch pre-emptive scheduling æŠ¢å å¼è°ƒåº¦ voluntary scheduling è‡ªæ„¿è°ƒåº¦ çº¿ç¨‹çš„state running åœ¨è¿è¡Œ runnable ç­‰å¾…è¢«è¿è¡Œ sleeping ç”±äºç³»ç»Ÿè°ƒç”¨åœ¨ç­‰å¾…I/Oè®¾å¤‡ç­‰ Context Switch ç®€åŒ–çš„çº¿ç¨‹åˆ‡æ¢è¿‡ç¨‹ å…¶ä¸»è¦çš„è®¾è®¡åœ¨äºï¼Œå½“è¦åˆ‡æ¢çº¿ç¨‹æ—¶ï¼Œä¸åœ¨ç”¨æˆ·å±‚ç›´æ¥åˆ‡æ¢ï¼Œè€Œåœ¨å†…æ ¸åˆ‡æ¢ å®Œæ•´çš„çº¿ç¨‹åˆ‡æ¢è¿‡ç¨‹ æ¯ä¸ªç”¨æˆ·çº¿ç¨‹å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹ æ¯ä¸ªå†…æ ¸çº¿ç¨‹æ‹¥æœ‰ä¸€ä¸ªcontext æ¯ä¸ªcpuæ ¸å¿ƒæ‹¥æœ‰ä¸€ä¸ªè°ƒåº¦å™¨çº¿ç¨‹å’Œä¿å­˜åœ¨cpuç»“æ„ä½“ä¸­çš„è°ƒåº¦å™¨context ç”¨æˆ·çº¿ç¨‹p1ç”±äºtimer interruptæˆ–æ˜¯ç³»ç»Ÿè°ƒç”¨ç­‰å¾…I/Oè®¾å¤‡ï¼Œå…¶æ•°æ®è¢«ä¿å­˜åœ¨tf1ä¸­è¿›å…¥å¯¹åº”çš„å†…æ ¸çº¿ç¨‹k1 å†…æ ¸çº¿ç¨‹k1æ•°æ®è¢«ä¿å­˜åœ¨å…¶å¯¹åº”çš„contextå¹¶switchåˆ°è°ƒåº¦å™¨çº¿ç¨‹s0 è°ƒåº¦å™¨çº¿ç¨‹æ•°æ®è¢«ä¿å­˜åœ¨è°ƒåº¦å™¨contextå¹¶è·³åˆ°å¦ä¸€ä¸ªrunnableçŠ¶æ€çš„å†…æ ¸çº¿ç¨‹k2 å†…æ ¸çº¿ç¨‹k2é€šè¿‡å…¶å¯¹åº”çš„contextæ¢å¤æ•°æ®åæ‰§è¡Œcç¨‹åºï¼Œè¯¥ç¨‹åºé€šè¿‡å…ˆå‰å·²ç»è¢«ä¿å­˜çš„tf2æ¢å¤ç”¨æˆ·è¿›ç¨‹p2çš„æ•°æ®ï¼Œå°†è¿è¡Œçš„çº¿ç¨‹åˆ‡æ¢åˆ°p2 context switchæœ‰ä¸åŒå«ä¹‰ï¼Œåœ¨æœ¬è¯¾ä¸­ç‰¹æŒ‡åœ¨å†…æ ¸ç©ºé—´ä¸­å†…æ ¸çº¿ç¨‹ä¸è°ƒåº¦å™¨çº¿ç¨‹ä¹‹é—´çš„åˆ‡æ¢ ä½•ä¸ºâ€œæ•°æ®â€ åœ¨p1åˆ‡æ¢åˆ°k1çš„è¿‡ç¨‹ä¸­ï¼Œæ•°æ®è¢«ä¿å­˜åœ¨trapframeä¸­ï¼Œä¸»è¦åŒ…æ‹¬pcï¼Œ32ä¸ªé€šç”¨å¯„å­˜å™¨å’Œä¸€äº›æœ‰å…³trapæœºåˆ¶çš„å¯„å­˜å™¨ åœ¨k1åˆ‡æ¢åˆ°s0çš„è¿‡ç¨‹ä¸­ï¼Œæ•°æ®è¢«ä¿å­˜åœ¨contextä¸­ï¼Œä¸»è¦åŒ…æ‹¬32ä¸ªé€šç”¨å¯„å­˜å™¨ä¸­çš„callee saved registerã€‚ä¸ä¿å­˜pcçš„åŸå› æ˜¯åœ¨è°ƒç”¨åˆ‡æ¢å‡½æ•°æ—¶ï¼Œpcå·²ç»è¢«æ›´æ”¹äº†ï¼Œæ²¡æœ‰ä¿å­˜pcçš„å¿…è¦","link":"/2023/04/15/6-S081-Lecture-11/"},{"title":"MIT 6.S081 Lecture 8: Q&amp;A labs","text":"pagetable lab ä¼¼ä¹è®²è§£çš„æ˜¯2020çš„labï¼Œä¸2021çš„labä¸åŒ","link":"/2023/04/15/6-S081-Lecture-8/"},{"title":"MIT 6.S081 Lab traps","text":"Compulsory exercises Preparation reading To start the lab, switch to the trap branch 123git fetchgit checkout trapsmake clean RISC-V assembly (easy) Which registers contain arguments to functions? For example, which register holds 13 in mainâ€™s call to printf? a0-a1 a2-a7; a2 Where is the call to function f in the assembly code for main? Where is the call to g? (Hint: the compiler may inline functions.) f in printf 0x34 , g in f 0x14 At what address is the function printf located? 0x630 What value is in the register ra just after the jalr to printf in main? 0x38 Run the following code. 12unsigned int i = 0x00646c72;printf(&quot;H%x Wo%s&quot;, 57616, &amp;i); What is the output? æ³¨æ„å­—èŠ‚åºæ˜¯å°ç«¯åº He110 World The output depends on that fact that the RISC-V is little-endian. If the RISC-V were instead big-endian what would you set i to in order to yield the same output? Would you need to change 57616 to a different value? i = 0x72646c00 -&gt; â€œord\\0â€ no In the following code, what is going to be printed after â€˜y=â€™? (note: the answer is not a specific value.) Why does this happen? 1printf(&quot;x=%d y=%d&quot;, 3); x=3 y=å¯„å­˜å™¨a2çš„åè¿›åˆ¶å€¼ï¼Œå› ä¸ºåœ¨printfæ²¡æœ‰ä¼ å…¥ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œa2æ²¡æœ‰è¢«æ›´æ–°ï¼Œå› æ­¤ç›´æ¥æŠŠåŸæ¥a2çš„å€¼ä¼ å…¥ Backtrace (moderate) è¯¥ä»»åŠ¡æ˜¯æ‰“å°å‡ºé”™å †æ ˆå‰çš„æ‰€æœ‰è¿”å›åœ°å€ra Implement a backtrace() function in kernel/printf.c æ·»åŠ å®šä¹‰å’Œå†…è”å‡½æ•°(å†…æ ¸ä¸­) defs.h //printf.c1void backtrace(void); riscv.h12345678// store frame pointerstatic inline uint64r_fp(){ uint64 x; asm volatile(&quot;mv %0, s0&quot; : &quot;=r&quot; (x) ); return x;} æ³¨æ„raåœ¨fp-8å¤„ï¼Œä¸Šä¸€ä¸ªfpåœ¨fp-16å¤„ ä½¿ç”¨riscvä¸­çš„å®å®šä¹‰PGROUNDDOWN(fp)å’ŒPGROUNDUP(fp)ç¡®å®šå¾ªç¯ç»ˆæ­¢æ¡ä»¶ å®ç°backtrace() kernel/printf.c12345678910111213void backtrace(void){ printf(&quot;backtrace:\\n&quot;); uint64 fp = r_fp(); uint64 start = PGROUNDDOWN(fp); uint64 end = PGROUNDUP(fp); while (start &lt;= fp &amp;&amp; fp &lt;= end) { uint64 ra = *(uint64*)(fp - 8); fp = *(uint64*)(fp - 16); printf(&quot;%p\\n&quot;, ra); }} æ·»åŠ è‡³sys_sleep()å’Œpanic() sysproc.c1backtrace(); kernel/printf.c panic()1backtrace(); Alarm (hard) æ·»åŠ ç³»ç»Ÿè°ƒç”¨åœ¨è®¡æ—¶å™¨ä¸­æ–­æ—¶æ‰“å°alarm test0: invoke handler ä¿®æ”¹proc.h proc.h struct proc123int ticks;uint64 handler;int gonetick; éœ€è¦å®Œæˆsigalarmç³»ç»Ÿè°ƒç”¨,å¹¶ä¸”æ·»åŠ sigreturnç³»ç»Ÿè°ƒç”¨ï¼ˆç©ºï¼‰ sysproc.c1234567891011121314151617181920212223uint64sys_sigalarm(void){ int ticks; uint64 handler; if (argint(0, &amp;ticks) &lt; 0) return -1; if (argaddr(1, &amp;handler) &lt; 0) return -1; struct proc* p = myproc(); p-&gt;ticks = ticks; p-&gt;handler = handler; return 0;}uint64sys_sigreturn(void){ //test0 return 0;} ä¿®æ”¹usertrap() trap.c usertrap()12345678//test0if(which_dev == 2) { p-&gt;gonetick += 1; if (p-&gt;ticks_pass % p-&gt;ticks == 0) { p-&gt;trapframe-&gt;epc = p-&gt;handler; } yield();} test1/test2(): resume interrupted code test0å°šæœªå®Œæˆè¿”å›ï¼Œå› æ­¤ç¨‹åºåœ¨alarmåå´©æºƒï¼Œéœ€è¦è¡¥å…¨sigreturn ä¿®æ”¹proc.hç”¨äºä¿å­˜alarmæ—¶çš„å¯„å­˜å™¨ä¿¡æ¯ï¼Œinhandleré˜²æ­¢å‡½æ•°è¢«å¤šæ¬¡è°ƒç”¨ éœ€è¦åˆå§‹åŒ–çš„å‚æ•°å¯ä»¥é€šè¿‡allocproc()åˆå§‹åŒ– proc.h struct proc >folded1234567891011121314151617181920212223242526272829303132333435363738int ticks;uint64 handler;int gonetick;int inhandler;/* 40 */ uint64 ra;/* 48 */ uint64 sp;/* 56 */ uint64 gp;/* 64 */ uint64 tp;/* 72 */ uint64 t0;/* 80 */ uint64 t1;/* 88 */ uint64 t2;/* 96 */ uint64 s0;/* 104 */ uint64 s1;/* 112 */ uint64 a0;/* 120 */ uint64 a1;/* 128 */ uint64 a2;/* 136 */ uint64 a3;/* 144 */ uint64 a4;/* 152 */ uint64 a5;/* 160 */ uint64 a6;/* 168 */ uint64 a7;/* 176 */ uint64 s2;/* 184 */ uint64 s3;/* 192 */ uint64 s4;/* 200 */ uint64 s5;/* 208 */ uint64 s6;/* 216 */ uint64 s7;/* 224 */ uint64 s8;/* 232 */ uint64 s9;/* 240 */ uint64 s10;/* 248 */ uint64 s11;/* 256 */ uint64 t3;/* 264 */ uint64 t4;/* 272 */ uint64 t5;/* 280 */ uint64 t6;uint64 epc; å®Œæˆsigreturnç³»ç»Ÿè°ƒç”¨ sysproc.c >folded12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758uint64sys_sigalarm(void){ int ticks; uint64 handler; if (argint(0, &amp;ticks) &lt; 0) return -1; if (argaddr(1, &amp;handler) &lt; 0) return -1; struct proc* p = myproc(); p-&gt;ticks = ticks; p-&gt;handler = handler; return 0;}uint64sys_sigreturn(void){ //test12 struct proc* p = myproc(); p-&gt;trapframe-&gt;ra = p-&gt;ra; p-&gt;trapframe-&gt;sp = p-&gt;sp; p-&gt;trapframe-&gt;gp = p-&gt;gp; p-&gt;trapframe-&gt;tp = p-&gt;tp; p-&gt;trapframe-&gt;t0 = p-&gt;t0; p-&gt;trapframe-&gt;t1 = p-&gt;t1; p-&gt;trapframe-&gt;t2 = p-&gt;t2; p-&gt;trapframe-&gt;s0 = p-&gt;s0; p-&gt;trapframe-&gt;s1 = p-&gt;s1; p-&gt;trapframe-&gt;a0 = p-&gt;a0; p-&gt;trapframe-&gt;a1 = p-&gt;a1; p-&gt;trapframe-&gt;a2 = p-&gt;a2; p-&gt;trapframe-&gt;a3 = p-&gt;a3; p-&gt;trapframe-&gt;a4 = p-&gt;a4; p-&gt;trapframe-&gt;a5 = p-&gt;a5; p-&gt;trapframe-&gt;a6 = p-&gt;a6; p-&gt;trapframe-&gt;a7 = p-&gt;a7; p-&gt;trapframe-&gt;s2 = p-&gt;s2; p-&gt;trapframe-&gt;s3 = p-&gt;s3; p-&gt;trapframe-&gt;s4 = p-&gt;s4; p-&gt;trapframe-&gt;s5 = p-&gt;s5; p-&gt;trapframe-&gt;s6 = p-&gt;s6; p-&gt;trapframe-&gt;s7 = p-&gt;s7; p-&gt;trapframe-&gt;s8 = p-&gt;s8; p-&gt;trapframe-&gt;s9 = p-&gt;s9; p-&gt;trapframe-&gt;s10 = p-&gt;s10; p-&gt;trapframe-&gt;s11 = p-&gt;s11; p-&gt;trapframe-&gt;t3 = p-&gt;t3; p-&gt;trapframe-&gt;t4 = p-&gt;t4; p-&gt;trapframe-&gt;t5 = p-&gt;t5; p-&gt;trapframe-&gt;t6 = p-&gt;t6; p-&gt;trapframe-&gt;epc = p-&gt;epc; p-&gt;inhandler = 0; return 0;} ä¿®æ”¹usertrap() trap.c usertrap() >folded123456789101112131415161718192021222324252627282930313233343536373839404142434445//test12if(which_dev == 2 &amp;&amp; p-&gt;inhandler == 0) { p-&gt;gonetick += 1; if (p-&gt;ticks &amp;&amp; p-&gt;gonetick == p-&gt;ticks) { p-&gt;gonetick = 0; p-&gt;inhandler = 1; p-&gt;ra = p-&gt;trapframe-&gt;ra; p-&gt;sp = p-&gt;trapframe-&gt;sp; p-&gt;gp = p-&gt;trapframe-&gt;gp; p-&gt;tp = p-&gt;trapframe-&gt;tp; p-&gt;t0 = p-&gt;trapframe-&gt;t0; p-&gt;t1 = p-&gt;trapframe-&gt;t1; p-&gt;t2 = p-&gt;trapframe-&gt;t2; p-&gt;s0 = p-&gt;trapframe-&gt;s0; p-&gt;s1 = p-&gt;trapframe-&gt;s1; p-&gt;a0 = p-&gt;trapframe-&gt;a0; p-&gt;a1 = p-&gt;trapframe-&gt;a1; p-&gt;a2 = p-&gt;trapframe-&gt;a2; p-&gt;a3 = p-&gt;trapframe-&gt;a3; p-&gt;a4 = p-&gt;trapframe-&gt;a4; p-&gt;a5 = p-&gt;trapframe-&gt;a5; p-&gt;a6 = p-&gt;trapframe-&gt;a6; p-&gt;a7 = p-&gt;trapframe-&gt;a7; p-&gt;s2 = p-&gt;trapframe-&gt;s2; p-&gt;s3 = p-&gt;trapframe-&gt;s3; p-&gt;s4 = p-&gt;trapframe-&gt;s4; p-&gt;s5 = p-&gt;trapframe-&gt;s5; p-&gt;s6 = p-&gt;trapframe-&gt;s6; p-&gt;s7 = p-&gt;trapframe-&gt;s7; p-&gt;s8 = p-&gt;trapframe-&gt;s8; p-&gt;s9 = p-&gt;trapframe-&gt;s9; p-&gt;s10 = p-&gt;trapframe-&gt;s10; p-&gt;s11 = p-&gt;trapframe-&gt;s11; p-&gt;t3 = p-&gt;trapframe-&gt;t3; p-&gt;t4 = p-&gt;trapframe-&gt;t4; p-&gt;t5 = p-&gt;trapframe-&gt;t5; p-&gt;t6 = p-&gt;trapframe-&gt;t6; p-&gt;epc = p-&gt;trapframe-&gt;epc; p-&gt;trapframe-&gt;epc = p-&gt;handler; } yield();} Optional challenge exercises Print the names of the functions and line numbers in backtrace() instead of numerical addresses (hard).","link":"/2023/04/13/6-S081-Lab-traps/"},{"title":"CTF","text":"Introduction Links CTF wiki CTFHub updatingâ€¦","link":"/2023/04/13/CTF/"},{"title":"Shell","text":"Introduction Shellé€šå¸¸æ˜¯è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿç”¨æˆ·å±‚çš„ä¸€ä¸ªç¨‹åºï¼Œå®ƒçš„è¡¨ç°å¾ˆåƒæ“ä½œç³»ç»Ÿçš„å¤–å£³(Shell)ï¼Œå®ƒæ¥å—é”®ç›˜è¾“å…¥å¹¶æ‰§è¡Œç¨‹åºï¼Œå°†ç»“æœå†™å…¥åˆ°æ ‡å‡†è¾“å‡ºæµä¸­ã€‚shellçš„ç§ç±»å¾ˆå¤šï¼Œæœ‰bashï¼Œzshï¼Œfishç­‰ Common Usage(wsl) æ–‡ä»¶å’Œç›®å½• ls åˆ—å‡ºå½“å‰è·¯å¾„ä¸‹çš„æ–‡ä»¶å’Œç›®å½• -a åˆ—å‡ºåŒ…æ‹¬éšè—æ–‡ä»¶çš„æ–‡ä»¶å’Œç›®å½• -l åˆ—å‡ºè¯¦ç»†ä¿¡æ¯ pwd æ˜¾ç¤ºå½“å‰ç›®å½• touch &lt;filename&gt; åˆ›å»ºæ–°æ–‡ä»¶ mkdir &lt;dirname åˆ›å»ºæ–°ç›®å½• rm &lt;filename&gt; åˆ é™¤æ–‡ä»¶ -r é€’å½’åˆ é™¤ç›®å½• -f å¼ºåˆ¶åˆ é™¤æ–‡ä»¶ rmdir &lt;dirname&gt; åˆ é™¤ç©ºç›®å½• rm -r &lt;dirname&gt; åˆ é™¤ç›®å½•ä¸‹æ‰€æœ‰å†…å®¹ mv src dst ç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•(é‡å‘½å) find path -name patten æŸ¥æ‰¾pathä¸‹æ–‡ä»¶ååŒ¹é…patternçš„æ–‡ä»¶ cd &lt;path&gt; è½¬æ¢å·¥ä½œè·¯å¾„ . æ­¤ç›®å½• .. çˆ¶ç›®å½• ~ æ ¹ç›®å½• - åˆ‡æ¢å‰çš„ç›®å½• / å¼€å¤´ä»£è¡¨ç»å¯¹è·¯å¾„ æ—  / å¼€å¤´ä»£è¡¨ç›¸å¯¹è·¯å¾„ å¿«æ·é”® man readline å¯ä»¥æŸ¥çœ‹ Bash ä¸­çš„é»˜è®¤å¿«æ·é”®ã€‚å†…å®¹æœ‰å¾ˆå¤šï¼Œä¾‹å¦‚ alt-. å¾ªç¯åœ°ç§»å‘å‰ä¸€ä¸ªå‚æ•°ï¼Œè€Œ alt-* å¯ä»¥å±•å¼€é€šé…ç¬¦ã€‚ ctrl-w åˆ é™¤ä½ é”®å…¥çš„æœ€åä¸€ä¸ªå•è¯ ctrl-u å¯ä»¥åˆ é™¤è¡Œå†…å…‰æ ‡æ‰€åœ¨ä½ç½®ä¹‹å‰çš„å†…å®¹ï¼Œ alt-b å’Œ alt-f å¯ä»¥ä»¥å•è¯ä¸ºå•ä½ç§»åŠ¨å…‰æ ‡ï¼Œ ctrl-a å¯ä»¥å°†å…‰æ ‡ç§»è‡³è¡Œé¦– ctrl-e å¯ä»¥å°†å…‰æ ‡ç§»è‡³è¡Œå°¾ ctrl-k å¯ä»¥åˆ é™¤å…‰æ ‡è‡³è¡Œå°¾çš„æ‰€æœ‰å†…å®¹ ctrl-l å¯ä»¥æ¸…å±ã€‚ ctrl-c ctrl-z ctrl-r æœç´¢å‘½ä»¤è¡Œå†å²è®°å½• æ–‡ä»¶ç¼–è¾‘ cat &lt;filename&gt; è¾“å‡ºæ–‡ä»¶å†…å®¹ -n è¾“å‡ºè¡Œå· vim &lt;filename&gt; ç”¨Vimæ‰“å¼€æˆ–åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ code &lt;path&gt; ç”¨vscodeæ‰“å¼€ç›®å½•ï¼ˆéœ€è¦å®‰è£…æ’ä»¶ï¼Ÿï¼‰ åŒ…ç®¡ç†å™¨ apt-get yum dnf pacman pip npm ç½‘ç»œ ssh è‡ªå®šä¹‰é…ç½® vim ~/.bashrc Links è¯¦ç»†å‘½ä»¤ updatingâ€¦","link":"/2023/04/10/Shell/"},{"title":"Vim","text":"Introduction Vimæ˜¯ä¸€ä¸ªç±»ä¼¼äºViçš„è‘—åçš„åŠŸèƒ½å¼ºå¤§ã€é«˜åº¦å¯å®šåˆ¶çš„æ–‡æœ¬ç¼–è¾‘å™¨ Usage å‚è€ƒæ•™ç¨‹ åŸºæœ¬é”®ä½ è‡ªå®šä¹‰é…ç½® vim .vimrc æ’ä»¶å®‰è£… vimawesome åœ¨.vimrcä¸­ 1234567&quot; Plugcall plug#begin()Plug 'scrooloose/nerdtree'&quot;Plug 'vim-jp/vim-cpp'Plug 'valloric/youcompleteme'&quot; Plug 'wikitopian/hardmode' call plug#end()","link":"/2023/04/09/Vim/"},{"title":"MIT 6.S081 Lecture 10: Multiprocessors and locking","text":"Reading Read Locking read code Locks introduction apps wants to multiple cores kernel must handle parallel sys calls access shared data structure in parallel -&gt; locks for correct sharing locks limit performance Microprocessor trend Lock abstraction struct lock 12345678// Mutual exclusion lock.struct spinlock { uint locked; // Is the lock held? // For debugging: char *name; // Name of lock. struct cpu *cpu; // The cpu holding the lock.}; 1234acquire(&amp;l)// critical section// your code hererelease(&amp;l) ç¨‹åºæœ‰å¾ˆå¤šæŠŠé”ï¼Œå¦‚æœåªæœ‰ä¸€æŠŠï¼Œä¸²è¡Œå½±å“æ€§èƒ½ï¼Œä¸ºè¾¾åˆ°æŸç§ç¨‹åº¦çš„å¹¶è¡Œä¸”ä¿è¯æ­£ç¡®æ€§ï¼Œç¨‹åºä½¿ç”¨å¤šæŠŠé” When to lock? Constructive Rule: two process access a shared data structure + one is writing too strict: lock free programming too loose: printf(â€œxxxxâ€) Could locking be automatic? Lock perspective avoid lost update make multi-step operation atomatic help maintain invariant Dead lock Locks vs modual lock ordering -&gt; global é”ä½¿æ¨¡å—åŒ–å˜å¾—å›°éš¾ Locks vs performance Implenment Lock memory ordering updatingâ€¦","link":"/2023/04/08/6-S081-Lecture-10/"},{"title":"MIT 6.S081 Lecture 9: Interrupts","text":"Reading Read Chapter5 read code Interrupts HW wants attention now, like keyboard and network device ç³»ç»Ÿè°ƒç”¨ï¼Œtrapsï¼Œinterruptséƒ½ä½¿ç”¨ç›¸åŒçš„å¤„ç†æ¨¡å¼ save its work process interrupt resume its work interrruptsçš„ç‰¹æ®Šä¹‹å¤„ asynchronouså¼‚æ­¥çš„ concurrency between cpu and device program device Where interrupts come from? ä¸»æ¿ä¸Šçš„å¼‚æ­¥æ¥å£ cpuæ¶æ„ PLIC å¹³å°çº§ä¸­æ–­æ§åˆ¶å™¨ UART é€šç”¨å¼‚æ­¥æ”¶å‘å™¨(Universal Asynchronous Receiver/Transmitter) Driver manage device ç»å…¸çš„é©±åŠ¨æ¶æ„ Programming Device memory mapped I/O ld/st read/write control register device How does â€˜$ lsâ€™ work? device puts â€˜$â€™ into uart uart generate interrupts when char has been sent keyboard connect to generate interrupts RISC-V support for interrupts STE - one bit for E, S, T SSTATE - bit enable/disable SIP - interrrupt pending SCAUSE STVEC Interrrupts and concurrency device and cpu run in parallel producer / consumer parallelism interrupts stops the current program user? OK kernel? å¿…è¦æ—¶è®¾ç½®å–æ¶ˆinterruptsæ¥ä¿è¯åŸå­æ€§ top of device and bottom of device run in parallel use locks Interrupts evolution polling(è½®è¯¢) å¯¹äºé«˜é€Ÿè®¾å¤‡èŠ‚çœï¼Œå¦‚é«˜æ€§èƒ½ç½‘å¡ å¯¹äºä½é€Ÿè®¾å¤‡æµªè´¹æ€§èƒ½ï¼Œå¦‚é”®ç›˜ interrupts(ä¸­æ–­) åŠ¨æ€åˆ‡æ¢pollingå’Œinterrupts Tip: CS61Cä¸­å…³äºè®¾å¤‡è®¿é—®çš„å‡ ç§æ–¹å¼ pollingç›¸å½“äºåˆ°åº—æ’é˜Ÿé—®å¥½äº†æ²¡ï¼Œå¥½äº†æˆ‘æ‹¿èµ° interruptsç›¸å½“äºå‡†å¤‡å¥½äº†é€šçŸ¥ä½ åˆ°åº—è‡ªå– DMAç›¸å½“äºå¤–å–é€è´§ä¸Šé—¨ï¼Œä½ å»æ‹¿å°±è¡Œäº†","link":"/2023/04/08/6-S081-Lecture-9/"},{"title":"Manim","text":"Introduction Manimæ˜¯æ•°å­¦è§†é¢‘åšä¸»3b1bå¼€å‘å¹¶ä½¿ç”¨çš„Pythonå›¾å½¢å¼•æ“ï¼Œç”¨äºåˆ¶ä½œæ•°å­¦ç§‘æ™®è§†é¢‘ã€‚ Usage åŸºæœ¬æ¡†æ¶ python12345from manimlib import *import numpy as npclass SceneName(Scene): def construct(self):","link":"/2023/04/06/Manim/"},{"title":"MIT 6.S081 Lab pgtbl","text":"Compulsory exercises Preparation reading To start the lab, switch to the pgtbl branch: 123git fetchgit checkout pgtblmake clean Speed up system calls (easy) getpid()ä½œä¸ºç³»ç»Ÿè°ƒç”¨ï¼Œæ¯æ¬¡è°ƒç”¨æ—¶éœ€è¦è·³å…¥å†…æ ¸å¹¶è·³å‡ºï¼Œä¸ºåŠ é€Ÿpidçš„è·å–ï¼Œugetpid()å‡½æ•°å¯ä»¥é€šè¿‡åˆ†é…è™šæ‹Ÿåœ°å€å°†pidå­˜å…¥å…¶ä¸­ï¼Œä»è€Œå®ç°ä¸è·³è½¬ä¸trapè·å–pid ä¿®æ”¹å†…æ ¸å‡½æ•°å®ç°ugetpid() map one read-only page at USYSCALL in proc_pagetable() proc.c proc_pagetable()12345if(mappages(pagetable, USYSCALL, PGSIZE, (uint64)(p-&gt;usyscall), PTE_R | PTE_U) &lt; 0){ uvmfree(pagetable, 0); return 0;} allocate and initialize the page in allocproc() proc.c allocproc()123456// Allocate a usyscall page before creating a new pagetableif((p-&gt;usyscall = (struct usyscall *)kalloc()) == 0){ freeproc(p); release(&amp;p-&gt;lock); return 0;} free the page in freeproc() proc.c freeproc()1234if(p-&gt;usyscall) { kfree((void*)p-&gt;usyscall); p-&gt;usyscall = 0;} umap USYSCALL in proc_freepagetable() proc.c proc_freepagetable()1uvmunmap(pagetable, USYSCALL, 1, 0); Print a page table (easy) RISC-Væ¶æ„ä¸­çš„ä¸‰çº§é¡µè¡¨éœ€è¦é€šè¿‡é€’å½’æ‰“å° æ·»åŠ å†…æ ¸å‡½æ•°vmprint() prototype for vmprint in defs.h defs.h //vm.c1void vmprint(pagetable_t); put vmprint() in vm.c vm.c123456789101112131415161718192021222324// help functionvoid vmprinthelp(pagetable_t pagetable, int level) { char *dot; if (level == 2) dot = &quot;..&quot;; if (level == 1) dot = &quot;.. ..&quot;; if (level == 0) dot = &quot;.. .. ..&quot;; for (int i = 0; i &lt; 512; i++) { pte_t pte = pagetable[i]; if (pte &amp; PTE_V) { uint64 child = PTE2PA(pte); printf(&quot;%s%d: pte %p pa %p\\n&quot;, dot, i, pte, child); if (level != 0) { vmprinthelp((pagetable_t)child, level - 1); } } }}voidvmprint(pagetable_t pagetable){ printf(&quot;page table %p\\n&quot;, pagetable); vmprinthelp(pagetable, 2);} Detecting which pages have been accessed (hard) æ¢æµ‹é¡µè¡¨ä¸­çš„é¡µæ˜¯å¦è¢«è®¿é—®è¿‡ æ·»åŠ pgaccessç³»ç»Ÿè°ƒç”¨ implementing sys_pgaccess() sysproc.c sysproc.c123456789101112131415161718192021#ifdef LAB_PGTBLintsys_pgaccess(void){ // lab pgtbl: your code here. uint64 firstpte; int num; uint64 buf; if (argaddr(0, &amp;firstpte) &lt; 0) return -1; if (argint(1, &amp;num) &lt; 0) return -1; if (argaddr(2, &amp;buf) &lt; 0) return -1; pagetable_t pagetable = myproc()-&gt;pagetable; pgaccess(pagetable, firstpte, num, buf); return 0;}#endif define PTE_A, the access bit, in riscv.h å‚è€ƒä¸‹å›¾PTE_Açš„ä½ç½® riscv.h1#define PTE_A (1L &lt;&lt; 6) // 1 -&gt; Accessed add pgaccess() in vm.c æ³¨æ„ç¬¬ä¸€ä¸ªpageå¯¹åº”maskæœ€ä½æœ‰æ•ˆä½ æ³¨æ„æ¢æµ‹ä¸€ä¸ªå¸¦æœ‰PTE_Açš„pageè¿‡åè¦æ¶ˆé™¤PTE_A vm.c1234567891011121314151617uint64pgaccess(pagetable_t pagetable, uint64 firstpte, int num, uint64 buf) { uint64 mask = 0; uint64 limit = 64; for (uint64 i = 0; i &lt; num &amp;&amp; i &lt; limit; i++) { pte_t *pte_ptr; pte_ptr = walk(pagetable, firstpte + i * (uint64)PGSIZE, 0); if ((pte_ptr != 0) &amp;&amp; (*pte_ptr &amp; PTE_A)) { mask = mask | (1L &lt;&lt; i); *pte_ptr = *pte_ptr &amp; (~PTE_A); } } copyout(pagetable, buf, (char *)&amp;mask, 8); return 0; } Optional challenge exercises Use super-pages to reduce the number of PTEs in page tables. Unmap the first page of a user process so that dereferencing a null pointer will result in a fault. You will have to start the user text segment at, for example, 4096, instead of 0. Add a system call that reports dirty pages (modified pages) using PTE_D.","link":"/2023/04/05/6-S081-Lab-pgtbl/"},{"title":"MIT 6.S081 Lecture 7: Page faults","text":"Reading Read 4.6 Implenment VM features using page fault lazy allocation copy on write fork demand paging memory mapped files Virtual Memory benefits Isolation level of indirection trampline page guard page Information needed the faulting VA -&gt; stval register type pf fault -&gt; scause register load store pc the VA of Instruction that cause fault -&gt; sepc register | trampframe? lazy allocation sbrk()åŸæœ¬åº”ä¸ºè¿›ç¨‹æ”¹å˜å †çš„å¤§å°ï¼Œåˆ†é…å†…å­˜ sbrk()ç³»ç»Ÿè°ƒç”¨åŸºæœ¬ä¸åšäº‹æƒ…ï¼Œåªp-&gt;size + n å½“è¦ä½¿ç”¨è¿™ä¸€éƒ¨åˆ†å†…å­˜æ—¶ï¼Œè§¦å‘Page Fault allocate 1 page zero page map the page restart instruction zero fill on demand åˆå§‹åŒ–çš„page VAå…±ç”¨ä¸€ä¸ªPAï¼Œå³æ˜ å°„åˆ°åŒä¸€ä¸ªç‰©ç†åœ°å€ä¸Š(Read Only) å½“è¦å†™è¿™äº›pageæ—¶ï¼Œè§¦å‘Page Fault copy upgrade restart instruction copy on write fork fork()æ—¶childä½¿ç”¨parentçš„å†…å­˜ç©ºé—´ï¼Œå³å­è¿›ç¨‹æ˜ å°„åˆ°çˆ¶è¿›ç¨‹çš„ç‰©ç†ç©ºé—´ä¸Š(Read Only) å½“è¦å†™å­è¿›ç¨‹ï¼Œè§¦å‘Page Fault copy page map restart instruction usrret demand page å½“æ‰§è¡Œexec()ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œload text data segmentï¼Œeagarly pagetableï¼Œä½†æ˜¯åªåœ¨VAä¸­åˆ†é…ï¼ŒPTEä¸åˆ†é… å½“è¦æ‰§è¡Œç¨‹åºæ—¶ï¼Œè§¦å‘Page Fault read block/page from file into memory map men into pgtbl restart instruction å½“å†…å­˜è€—å°½æ—¶ evict a page -&gt; file use the just free page restart intruction é©±é€ä»€ä¹ˆpage? LRU and non-dirty ä½¿ç”¨PTEä¸­è‡ªå®šä¹‰çš„RWä½å®ç°LRUå’Œdirty memory mapped files å½“æ‰§è¡Œldï¼ŒsdæŒ‡ä»¤æ—¶ mmap(VA, len, protection, flags, fd, offset)æ˜ å°„PAåˆ°VA unmap(VA, len) write back dirty block Summary for Page Table page tables + traps/page fault -&gt; powerful elegent VM features","link":"/2023/04/04/6-S081-Lecture-7/"},{"title":"MIT 6.S081 Lecture 6: Isolation &amp; system call entry&#x2F;exit","text":"Reading Read Chapter4 read code Traps å®ç°ç”¨æˆ·å±‚å’Œå†…æ ¸å±‚åˆ‡æ¢çš„æœºåˆ¶ å‘ç”Ÿåœ¨å¦‚ç³»ç»Ÿè°ƒç”¨ã€Page Faultã€/0çš„è¿‡ç¨‹ä¸­ Traps register 32ä¸ªé€šç”¨register åŒ…æ‹¬spæ ˆæŒ‡é’ˆ PC ç¨‹åºè®¡æ•°å™¨ MODE ä»£è¡¨å½“å‰åœ¨ç”¨æˆ·æ¨¡å¼è¿˜æ˜¯å†…æ ¸æ¨¡å¼ SATP æŒ‡å‘pagetableçš„ç‰©ç†åœ°å€ STVEC æŒ‡å‘trapæŒ‡ä»¤çš„èµ·å§‹åœ°å€ trapoline page SEPC åœ¨trapæ—¶ä¿å­˜PC SSRACTCH æŒ‡å‘trapframe page supervisor mode supervisor modeå¯ä»¥è¯»å†™ä¸Šè¿°æ§åˆ¶å¯„å­˜å™¨ï¼Œå¹¶ä¸”å¯ä»¥è¯»å†™PTE_U = 0çš„page Traps process(shell write as example) uservecå’Œuserretæ˜¯trampoline.Sä¸­çš„å‡½æ•° usertrap()å’Œusertrapret()æ˜¯trap.cä¸­çš„å‡½æ•° syscall()æ˜¯syscall.cä¸­çš„å‡½æ•°ï¼Œå®ƒæ ¹æ®å¯„å­˜å™¨ä¼ å…¥çš„å‚æ•°è°ƒç”¨ä¸åŒçš„ç³»ç»Ÿè°ƒç”¨ï¼Œå¦‚sys_write() ä¸Šè¿°æ–‡ä»¶å‡åœ¨kernelæ–‡ä»¶å¤¹ä¸­ å†…å­˜æ˜ å°„æ–‡ä»¶(Memory-mapped file access)æœºåˆ¶ï¼Œå°†ç”¨æˆ·ç©ºé—´çš„è™šæ‹Ÿåœ°å€ç©ºé—´ç›´æ¥æ˜ å°„åˆ°æ–‡ä»¶å†…å®¹ï¼Œå¯ä»¥é€šè¿‡å†…å­˜åœ°å€ç›´æ¥è¯»å†™æ–‡ä»¶ï¼Œè¿™æ¯”read writeç³»ç»Ÿè°ƒç”¨å¿«ä¸Šè®¸å¤šï¼Œè¿™ä¸€åŠŸèƒ½å°†åœ¨Lab mmapä¸­å®ç° gdbè°ƒè¯•traps .asmæ˜¯å¸¦æœ‰æŒ‡ä»¤åœ°å€çš„æ±‡ç¼–ä»£ç  .Såˆ™æ²¡æœ‰æŒ‡ä»¤åœ°å€ ctrl-a c è¿›å…¥qemuçš„consolcc info memæ‰“å°pagetable csrrw a0, sscratch, a0 äº¤æ¢äº†a0å’Œsscratchçš„å†…å®¹ åœ¨trampoline pageä¸­æ‰§è¡Œtrapsï¼Œtrampoline pageåŒ…å«äº†å†…æ ¸çš„trapå¤„ç†ä»£ç ï¼Œè¿™ä¸ªæ“ä½œç”±å†…æ ¸é€šè¿‡stvecå°å¿ƒåœ°æ˜ å°„åˆ°ç”¨æˆ·pagetableï¼Œä½†æ˜¯ç”±äºPTE_Uè®¾ç½®ä¸º0ï¼Œæ‰€ä»¥ä¸å—ç”¨æˆ·å½±å“ åœ¨RISC-Vä¸­ï¼Œecallå°½é‡ç®€å•ï¼Œç”±è½¯ä»¶ä¹Ÿå³OSå®ç°äº†trapsæœºåˆ¶ï¼Œç›®çš„æ˜¯å®ç°è½¯ä»¶çš„çµæ´»æ€§ï¼Œecallåªå¹²ä¸‰ä»¶äº‹ ecallä»user modeåˆ‡æ¢åˆ°supervisor mode ecallå°†pcçš„å€¼ä¿å­˜åœ¨sepc ecallè·³è½¬åˆ°stvecæŒ‡å‘çš„æŒ‡ä»¤ RISC-Våœ¨æ¯ä¸ªç”¨æˆ·è¿›ç¨‹çš„pagetableä¸­æ˜ å°„äº†trapframe pageï¼Œå…¶ä¸­æœ€é‡è¦çš„æ˜¯ä¿å­˜äº†32ä¸ªç”¨æˆ·é€šç”¨å¯„å­˜å™¨ï¼Œåœ¨è¿›å…¥trapsä¹‹å‰ï¼Œè¿™ä¸ªåœ°å€ä¼šä¿å­˜åœ¨sscratchä¸­ trapframeç»“æ„å®šä¹‰åœ¨proc.hä¸­ ä¹‹åä»user pagetableåˆ‡æ¢åˆ°kernel pagetableï¼Œç¨‹åºä¹‹æ‰€ä»¥æ²¡æœ‰å´©æºƒçš„åŸå› æ˜¯trampoline pageåœ¨U/Kä¸­æ˜ å°„ç›¸åŒ OSæ€»æ˜¯ä»Kernelå¯åŠ¨ï¼Œè®¾ç½®å¥½ä¸€åˆ‡ä¸Trapsæœ‰å…³çš„registeråè½¬ç§»åˆ°User sretæ˜¯ä»supervisor modeåˆ‡æ¢åˆ°user modeçš„RISCV-VæŒ‡ä»¤ åˆ‡æ¢kernel pagetableåï¼Œæˆ‘ä»¬åªæ˜¯æ¢äº†ä¸ªåœ°æ–¹æ‰§è¡Œcç¨‹åº åœ¨usertrap()ä¸­scause = 8ï¼Œä»£è¡¨æˆ‘ä»¬æ˜¯å› ä¸ºç³»ç»Ÿè°ƒç”¨æ¥åˆ°è¿™é‡Œ","link":"/2023/04/01/6-S081-Lecture-6/"},{"title":"MIT 6.S081 Lab syscall","text":"Compulsory exercises Preparation reading To start the lab, switch to the syscall branch: 123$ git fetch$ git checkout syscall$ make clean System call tracing (moderate) äº†è§£traceçš„è¿‡ç¨‹ trace.cè°ƒç”¨ç³»ç»Ÿè°ƒç”¨trace() ç³»ç»Ÿè°ƒç”¨trace()è°ƒç”¨sys_trace()è®¾ç½®è¿›ç¨‹çš„mask ç†è§£maskçš„å«ä¹‰ maskä½œä¸ºä½œä¸ºç³»ç»Ÿè°ƒç”¨åºå·çš„æ©ç ï¼Œå¦‚mask = (1 &lt;&lt; SYS_read) | (1 &lt;&lt; SYS_fork)ä»£è¡¨åŒæ—¶trace read å’Œ forkç³»ç»Ÿè°ƒç”¨ å½“mask = 2147483647æ—¶ä»£è¡¨traceåºå·1 - 31çš„ç³»ç»Ÿè°ƒç”¨ question: maskçš„ç±»å‹? uint64 or uint32? ç†è®ºä¸Šéƒ½æ˜¯å¯è¡Œçš„ æ·»åŠ ç¼–è¯‘ä¾èµ– æ·»åŠ traceç³»ç»Ÿè°ƒç”¨ code add sys_trace() 12345678910// add in sysproc.cuint64sys_trace(void){ uint64 m; if(argaddr(0, &amp;m) &lt; 0) return -1; myproc()-&gt;mask = m; return 0;} 12// add in proc.h struct proc uint64 mask; // 64bit Mask for syscall trace Modify fork() 1234// add in proc.c // copy the trace mask from the parent to the child process np-&gt;mask = p-&gt;mask; Modify the syscall() 123456789101112131415161718192021222324252627282930// add and modify in syscall.cchar const *syscallNames[] = { &quot;&quot;, &quot;fork&quot;, &quot;exit&quot;, &quot;wait&quot;, &quot;pipe&quot;, &quot;read&quot;, &quot;kill&quot;, &quot;exec&quot;, &quot;fstat&quot;, &quot;chdir&quot;, &quot;dup&quot;, &quot;getpid&quot;, &quot;sbrk&quot;, &quot;sleep&quot;,&quot;uptime&quot;, &quot;open&quot;, &quot;write&quot;, &quot;mknod&quot;, &quot;unlink&quot;, &quot;link&quot;, &quot;mkdir&quot;, &quot;close&quot;,&quot;trace&quot;,&quot;sysinfo&quot;};voidsyscall(void){ int num; struct proc *p = myproc(); num = p-&gt;trapframe-&gt;a7; if(num &gt; 0 &amp;&amp; num &lt; NELEM(syscalls) &amp;&amp; syscalls[num]) { p-&gt;trapframe-&gt;a0 = syscalls[num](); // added in lab syscall if ((1 &lt;&lt; num) &amp; p-&gt;mask) { printf(&quot;%d: syscall %s -&gt; %d\\n&quot;, p-&gt;pid, syscallNames[num], p-&gt;trapframe-&gt;a0); } } else { printf(&quot;%d %s: unknown sys call %d\\n&quot;, p-&gt;pid, p-&gt;name, num); p-&gt;trapframe-&gt;a0 = -1; }} Sysinfo (moderate) äº†è§£sysinfoçš„è¿‡ç¨‹ sysinfotestè°ƒç”¨sysinfo() ç³»ç»Ÿè°ƒç”¨sysinfo()è°ƒç”¨sys_sysinfoè·å–struct sysinfo æ·»åŠ ç¼–è¯‘ä¾èµ– æ·»åŠ sysinfoç³»ç»Ÿè°ƒç”¨ code add sysinfo() 1234567891011121314// add in sysproc.cuint64sys_sysinfo(void){ uint64 addr; if (argaddr(0, &amp;addr) &lt; 0) return -1; struct sysinfo info; info.freemem = freemem(); info.nproc = procnumber(); if(copyout(myproc()-&gt;pagetable, addr, (char *)&amp;info, sizeof(info)) &lt; 0) return -1; return 0;} add freemem() 123456789101112131415// add in kalloc.cuint64freemem(void){ struct run *r; r = kmem.freelist; uint64 count_mem = 0; while (r) { count_mem += 4096; r = r-&gt;next; } return count_mem;} add procnumber() 123456789101112131415// add in proc.cuint64procnumber(void){ uint64 count = 0; struct proc *p; for (p = proc; p &lt; &amp;proc[NPROC]; p++) { if (p-&gt;state != UNUSED) { count++; } } return count;} Optional challenge exercises Print the system call arguments for traced system calls (easy). Compute the load average and export it through sysinfo(moderate).","link":"/2023/03/31/6-S081-Lab-syscall/"},{"title":"ChatGPT","text":"Self Introduction GPT-4 is OpenAIâ€™s most advanced system, producing safer and more useful responses. GPT4: I am a language model that is based on a neural network architecture known as GPT (Generative Pre-trained Transformer). This architecture is used in deep learning to generate natural language text by predicting the next word or sequence of words based on the input text. I was pre-trained on a large corpus of text and can generate human-like responses to a wide range of questions and prompts. Feeling ç”¨äº†ä¸€ä¸‹ChatGPTï¼Œéå¸¸ä¸é”™ï¼Œç¡®å®æ„Ÿè§‰çš„åˆ°æˆ‘åœ¨å’Œä¸€ä¸ªçŸ¥è¯†å‚¨å¤‡å¾ˆæ·±å¹¶ä¸”ååˆ†è€å¿ƒçš„äººè°ˆè¯ï¼Œå¸Œæœ›å®ƒèƒ½å¸®åŠ©æˆ‘åœ¨åé¢çš„å­¦ä¹ å’Œç”Ÿæ´»è¿‡ç¨‹ä¸­è§£ç­”ä¸€äº›ç–‘æƒ‘ã€‚æ­¤å¤–ï¼Œgptæœ‰æé—®é™åˆ¶ï¼Œæˆ‘ä¹Ÿéœ€è¦ç²¾ç¡®æˆ‘çš„è¡¨è¾¾æ¥è·å–æˆ‘æƒ³è¦çš„ä¿¡æ¯ã€‚ Links ä¸GPT4å¯¹è¯","link":"/2023/03/30/ChatGPT/"},{"title":"gdb","text":"Introduction gdb(GNU Debugger)æ˜¯GNUé¡¹ç›®ä¸­è°ƒè¯•å·¥å…·ã€‚ Usage Common å¸®åŠ© help &lt;command-name&gt; è¿è¡Œ run = r è¿è¡Œåˆ°æ–­ç‚¹ c = continue ç»§ç»­åˆ°æ–­ç‚¹ æ–­ç‚¹ b &lt;breakpoint-name&gt; å‡½æ•°åå¤„æ‰“æ–­ç‚¹ b &lt;location&gt; åœ¨åœ°å€å¤„æ‰“æ–­ç‚¹ æ­¥è¿› s Cè¯­è¨€æ­¥è¿› è¿›å…¥å‡½æ•° si æ±‡ç¼–è¯­è¨€æ­¥è¿› è¿›å…¥å‡½æ•° n Cè¯­è¨€æ­¥è¿› ä¸è¿›å…¥å‡½æ•° ni æ±‡ç¼–è¯­è¨€æ­¥è¿› ä¸è¿›å…¥å‡½æ•° è§‚å¯Ÿç‚¹ æ‰“å°å†…å­˜: ä½¿ç”¨xå‘½ä»¤æ¥æ‰“å°å†…å­˜çš„å€¼ï¼Œæ ¼å¼ä¸ºx/nfu addrï¼Œä»¥fæ ¼å¼æ‰“å°ä»addrå¼€å§‹çš„nä¸ªé•¿åº¦å•å…ƒä¸ºuçš„å†…å­˜å€¼ã€‚ x/nfu &lt;address&gt; nï¼šè¾“å‡ºå•å…ƒçš„ä¸ªæ•° f : è¾“å‡ºæ ¼å¼ï¼Œå¦‚xè¡¨ç¤ºä»¥16è¿›åˆ¶è¾“å‡ºï¼Œoè¡¨ç¤ºä»¥8è¿›åˆ¶æ•°å¤„ï¼Œé»˜è®¤xï¼Œå¦‚æœåœ°å€æ‰€æŒ‡çš„æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæ ¼å¼å¯ä»¥æ˜¯sï¼Œå¦‚æœåœ°å€æ˜¯æŒ‡ä»¤åœ°å€ï¼Œé‚£ä¹ˆæ ¼å¼å¯ä»¥æ˜¯iã€‚ uï¼šä¸€ä¸ªå•å…ƒçš„é•¿åº¦ï¼Œbè¡¨ç¤º1byteï¼Œhè¡¨ç¤º2byteï¼ˆhalf wordï¼‰ï¼Œwè¡¨ç¤º4byteï¼Œgè¡¨ç¤º8byteï¼ˆgiant wordï¼‰ æ‰“å°å˜é‡ print/x &lt;variable&gt; d æŒ‰åè¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ x æŒ‰åå…­è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ a æŒ‰åå…­è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ u æŒ‰åå…­è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºæ— ç¬¦å·æ•´å‹ o æŒ‰å…«è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ t æŒ‰äºŒè¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ c æŒ‰å­—ç¬¦æ ¼å¼æ˜¾ç¤ºå˜é‡ f æŒ‰æµ®ç‚¹æ•°æ ¼å¼æ˜¾ç¤ºå˜é‡ æ‰“å°ä¿¡æ¯ info registers prints the value of every register. info frame prints the current stack frame. list &lt;location&gt; prints the source code of the function at the specified location. backtrace might be useful as you work on lab 1 tui tui enable layout &lt;name&gt; switches to the given layout. .gdbinit Links Updatingâ€¦","link":"/2023/03/29/gdb/"},{"title":"tmux","text":"Usage åœ¨shellä¸­ 1$ tmux ctrl-b c æ–°å»ºçª—å£ ctrl-b p å‰ä¸€ä¸ªçª—å£ ctrl-b n ä¸‹ä¸€ä¸ªçª—å£ ctrl-b % å‚ç›´æ‹†åˆ†çª—å£ ctrl-b &quot; æ°´å¹³æ‹†åˆ†çª—å£ ctrl-b o åœ¨çª—å£é—´åˆ‡æ¢","link":"/2023/03/29/tmux/"},{"title":"MIT 6.S081 Lecture 5: GDB, calling conventions and stack frames RISC-V","text":"Reading Read Calling Convention C -&gt; RISC-V Asm C -&gt; Asm -&gt; Binary (.c) -&gt; (.s) -&gt; (object / .o) RISC-V vs x86-64 x86-64 3æœ¬ä¹¦ +3inst / month CISC RISC-V 2æœ¬ä¹¦ æ›´å°‘æ›´ç®€å•çš„æŒ‡ä»¤ å¼€æº RISC ARM Android ios RISC gdb è§gdbä¸€æ–‡ Register å¯„å­˜å™¨åˆ—è¡¨ ç»å…¸çš„RISC-Vå‡½æ•° prologueä¿å­˜callee saved register bodyå‡½æ•°ä½“ epilogueè¿˜åŸcallee saved register Stack Frame æ ˆå¸§ é‡è¦çš„ä¸¤ä¸ªregister sp -&gt; bottem of stack fp -&gt; top of current frame struct è¿ç»­çš„å†…å­˜ç»“æ„ï¼Œçœ‹æˆå¯å˜æ•°æ®ç±»å‹çš„æ•°ç»„","link":"/2023/03/29/6-S081-Lecture-5/"},{"title":"MIT 6.S081 Lecture 4: Page tables","text":"Reading Read Chapter3 read code Address Spaces æ¯ä¸ªè¿›ç¨‹æ‹¥æœ‰ä¸“å±çš„åœ°å€ç©ºé—´ Page tableå®ç°äº†åŒä¸€ä¸ªç‰©ç†å†…å­˜ï¼Œä¸åŒçš„åœ°å€ç©ºé—´ è¯»å†™satpå¯„å­˜å™¨æ˜¯ç‰¹æ®Šæƒé™æŒ‡ä»¤ PT H/W ä¸ä¸ºæ¯ä¸ªåœ°å€(1Byte)åˆ›å»ºè¡¨å•æ¡ç›®,è€Œä¸ºæ¯ä¸ªPage(é€šå¸¸4KBï¼ŒOffset12ä½)åˆ›å»ºä¸€ä¸ªè¡¨å•æ¡ç›® VA -&gt; PA Real paging H/W (RISC-V) ä¸‰çº§ç¼“å­˜çš„RISC-V Page TLB: Translation Lookaside Buffer cache of PTE(page table entry) When switch PT, clear TLB OS and PTE OSå¯ä»¥æ“çºµPTE Page Faultå¾ˆæœ‰ç”¨ è™šæ‹Ÿåœ°å€æ˜ å°„åˆ°å†…å­˜å’ŒI/Oè®¾å¤‡ é«˜äº0x80000000 -&gt; DRAM ä½äº0x80000000 -&gt; I/O","link":"/2023/03/29/6-S081-Lecture-4/"},{"title":"MIT 6.S081 Lecture 3: OS organization and system calls","text":"Reading Read Chapter2 read code Isolation å¦‚æœæ²¡æœ‰OSéš”ç¦»ï¼Œç”¨æˆ·åº”ç”¨ç›´æ¥ä¸ç¡¬ä»¶äº¤äº’ï¼Œéš¾ä»¥å®ç°Multiplexing Unix Interface æŠ½è±¡å…³ç³» OS -&gt; H/W process -&gt; CPU exec -&gt; Memory files -&gt; disk block Defensive Isolation between apps and OS HW support user / kernel mode user modeè¢«å…è®¸æ‰§è¡Œadd subç­‰æŒ‡ä»¤ï¼Œè€Œkernel modeè¢«å…è®¸æ‰§è¡Œå—é™æŒ‡ä»¤ virtual memory Virtual Memory Page tableå°†è™šæ‹Ÿåœ°å€æ˜ å°„åˆ°ç‰©ç†åœ°å€ æ¯ä¸ªç‹¬ç«‹çš„è¿›ç¨‹æœ‰ç‹¬ç«‹çš„page tableï¼Œå› æ­¤å®ç°äº†ä¸åŒè¿›ç¨‹é—´çš„å†…å­˜éš”ç¦» Kernel Kernel -&gt; TCB(å¯ä¿¡ä»»çš„è®¡ç®—ç©ºé—´) æ— bug æŠŠappså½“ä½œæ¶æ„çš„ å†…æ ¸æ¶æ„ å®å†…æ ¸(Linux) å¾®å†…æ ¸(ä¸¤å€è·³è½¬ï¼Œä½performance)","link":"/2023/03/28/6-S081-Lecture-3/"},{"title":"MIT 6.S081 Lecture 2: C and gdb","text":"Reading C Intro to C gdb Using the GNU Debugger","link":"/2023/03/28/6-S081-Lecture-2/"},{"title":"MIT 6.S081 Lecture 1: Introduction and examples","text":"Reading Read Chapter1 OS purpose Abstract H/W Multiplex Isolation Sharing Security Performance Range of uses Classic design å†…æ ¸ ç”¨æˆ·å±‚éš”ç¦»çš„è®¾è®¡ Why OS hard and interesting? unforgiving tension efficient - abstract powerfull - simple flexible - secure æ–‡ä»¶äº¤äº’å’Œè¿›ç¨‹äº¤äº’ program example using Sys Call example copy.c ä½¿ç”¨read write exitç³»ç»Ÿè°ƒç”¨ fdæ–‡ä»¶æè¿°ç¬¦(æ ‡å‡†è¾“å…¥è¾“å‡ºä¹Ÿåªæ˜¯æ–‡ä»¶è€Œå·²) 0 stdin 1 stdout 2 stderr open.c ä½¿ç”¨open write exitç³»ç»Ÿè°ƒç”¨ sh.c shellå¯ä»¥è¢«è®¤ä¸ºä»…ä»…æ˜¯æ‰§è¡Œæ ‡å‡†è¾“å…¥çš„å‘½ä»¤å¹¶æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºçš„ç”¨æˆ·ç¨‹åº fork.c ä½¿ç”¨forkç³»ç»Ÿè°ƒç”¨ exec.c ä½¿ç”¨execç³»ç»Ÿè°ƒç”¨ forkexec.c ä½¿ç”¨fork exec waitç³»ç»Ÿè°ƒç”¨ redirect.c ä½¿ç”¨fork open exec waitç³»ç»Ÿè°ƒç”¨ å®ç°äº†I/Oé‡å®šå‘ new.txt -&gt; 1","link":"/2023/03/28/6-S081-Lecture-1/"},{"title":"MIT 6.S081 Lab util","text":"Compulsory exercises Lab guidance About easy / moderate / hard Boot xv6 (easy) å¯åŠ¨xv6 åœ¨shellä¸­ 12$ cd xv6-labs-2021$ make qemu åœ¨xv6 shellä¸­åˆ—å‡ºæ–‡ä»¶ 1$ ls åœ¨xv6ä¸­ Ctrl-p æ‰“å°è¿›ç¨‹ä¿¡æ¯ Ctrl-a x é€€å‡ºqemu sleep (easy) äº†è§£ç³»ç»Ÿè°ƒç”¨ xv6æ–‡æ¡£p11 ä»£ç å®ç° code 1234567891011121314151617// sleep.c#include &quot;kernel/types.h&quot;#include &quot;kernel/stat.h&quot;#include &quot;user/user.h&quot;int main(int argc, char *argv[]){ if (argc != 2) { //error fprintf(2, &quot;Error arg number!&quot;); exit(1); } else { int time = atoi(argv[1]); sleep(time); exit(0); }} è¡¥å…¨Makefile 1$U/_sleep\\ æµ‹è¯• 12345$ cd xv6-labs-2021$ ./grade-lab-util sleep# Or #$ make GRADEFLAGS=sleep grade pingpong (easy) å›¾è§£ ä»£ç å®ç° code 12345678910111213141516171819202122232425262728293031323334// pingpong.c#include &quot;kernel/types.h&quot;#include &quot;kernel/stat.h&quot;#include &quot;user/user.h&quot;int main(int argc, char *argv[]){ int p[2]; int pid; pipe(p); if (fork() == 0) { // child pid = getpid(); char buf[2]; read(p[0], buf, 1); close(p[0]); printf(&quot;%d: received ping\\n&quot;, pid); write(p[1], buf, 1); close(p[1]); exit(0); } else { // parent pid = getpid(); char ball[2] = &quot;b&quot;; char buf[2]; write(p[1], ball, 1); close(p[1]); wait(0); read(p[0], buf, 1); printf(&quot;%d: received pong\\n&quot;, pid); close(p[0]); exit(0); }} primes (moderate)/(hard) å›¾è§£ æ ¹æ®åˆ†æéœ€è¦ä½¿ç”¨ä¸¤ä¸ªç®¡é“åˆ†åˆ«ç”¨äºå·¦é‚»å±…å’Œå³é‚»å±… ä»£ç å®ç° code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566// primes.c#include &quot;kernel/types.h&quot;#include &quot;kernel/stat.h&quot;#include &quot;user/user.h&quot;void childPrime(int p[2]) { // p -&gt; left, pr -&gt; right // [0] -&gt; read, [1] -&gt; write close(p[1]); // get first prime int prime; if (read(p[0], &amp;prime, 4) != 4) { exit(0); } printf(&quot;prime %d\\n&quot;, prime); int pr[2]; pipe(pr); if (fork() == 0) { childPrime(pr); } else { close(pr[0]); // drop multiple of prime int n; while (read(p[0], &amp;n, 4) == 4) { if (n % prime != 0) { if (write(pr[1], &amp;n, 4) != 4) { fprintf(2, &quot;write error&quot;); } } } // close read left close(p[0]); // close write right close(pr[1]); wait(0); } exit(0);}int main(int argc, char *argv[]){ int p[2]; pipe(p); if (fork() == 0) { // child childPrime(p); } else { // parent // close read close(p[0]); for (int i = 2; i &lt;= 35; i++) { if (write(p[1], &amp;i, 4) != 4) { fprintf(2, &quot;write error&quot;); exit(1); } } // close write close(p[1]); wait(0); } exit(0);} find (moderate) é˜…è¯»ls.cäº†è§£æ–‡ä»¶ç³»ç»Ÿ ä»£ç å®ç° code 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697#include &quot;kernel/types.h&quot;#include &quot;kernel/stat.h&quot;#include &quot;user/user.h&quot;#include &quot;kernel/fs.h&quot;char*fmtname(char *path){ static char buf[DIRSIZ+1]; char *p; // Find first character after last slash. for(p=path+strlen(path); p &gt;= path &amp;&amp; *p != '/'; p--) ; p++; // Return blank-padded name. if(strlen(p) &gt;= DIRSIZ) return p; memmove(buf, p, strlen(p)); memset(buf+strlen(p), ' ', DIRSIZ-strlen(p)); return buf;}void find(char *pwd, char *filename) { char buf[512], *p; int fd; struct dirent de; struct stat st; if((fd = open(pwd, 0)) &lt; 0){ fprintf(2, &quot;cannot open %s\\n&quot;, pwd); return; } if(fstat(fd, &amp;st) &lt; 0){ fprintf(2, &quot;cannot stat %s\\n&quot;, pwd); close(fd); return; } if (read(fd, &amp;de, sizeof(de)) != sizeof(de)){ exit(1); } switch(st.type){ case T_FILE: if (strcmp(de.name, filename) == 0) { printf(&quot;%s/%s\\n&quot;, pwd, filename); } break; case T_DIR: if (strlen(pwd) + 1 + DIRSIZ + 1 &gt; sizeof buf) { printf(&quot;path too long\\n&quot;); break; } strcpy(buf, pwd); p = buf+strlen(buf); *p++ = '/'; while (read(fd, &amp;de, sizeof(de)) == sizeof(de)) { if (de.inum == 0 || strcmp(de.name, &quot;.&quot;) ==0 || \\ strcmp(de.name, &quot;..&quot;) == 0) { continue; } memmove(p, de.name, DIRSIZ); p[DIRSIZ] = 0; if (stat(buf, &amp;st) &lt; 0) { printf(&quot;cannot stat %\\n&quot;, buf); continue; } if (st.type == T_FILE) { if (strcmp(de.name, filename) == 0) { printf(&quot;%s\\n&quot;, buf); } } else if (st.type == T_DIR) { find(buf, filename); } } break; } close(fd);}int main(int argc, char *argv[]){ if (argc != 3) { fprintf(2, &quot;error number!&quot;); exit(1); } else { char* pwd = argv[1]; char* filename = argv[2]; find(pwd, filename); exit(0); }} xargs (moderate) äº†è§£xargs æ•™ç¨‹ è¦æ±‚å®ç°ç®€æ˜“çš„xargï¼Œå³å®ç°ä¸‹åˆ—å‘½ä»¤è¡Œè°ƒç”¨ 1234$ find . b | xargs grep hello$ echo hello too | xargs echo byebye hello too ä»£ç å®ç°(reference) code 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788#include &quot;kernel/types.h&quot;#include &quot;kernel/stat.h&quot;#include &quot;user/user.h&quot;#include &quot;kernel/param.h&quot;void copy(char **p1, char *p2) { *p1 = malloc(strlen(p2) + 1); strcpy(*p1, p2);}int readLine(char **pars, int i){ int d = 1024; char buf[d]; int j = 0; // è¯»å–1è¡Œ while (read(0, buf + j, 1)){ // æŒ‰è¡Œåˆ’åˆ† if (buf[j] == '\\n'){ buf[j] = 0; break; } j++; if (j == d){ fprintf(2, &quot;Parameters are too long!\\n&quot;); exit(1); } } // æ²¡æœ‰è¯»å–å†…å®¹ if (j == 0){ return -1; } // æŒ‰ç…§ç©ºæ ¼åˆ’åˆ† int k = 0; while (k &lt; j){ if (i &gt; MAXARG){ fprintf(2, &quot;Too much parameters!\\n&quot;); exit(1); } // ' abc sdf' // å¿½ç•¥ while ((k &lt; j) &amp;&amp; (buf[k] == ' ')){ k++; } // èµ·å§‹ä½ç½® int l = k; // ä¿ç•™å­—ç¬¦ while ((k &lt; j) &amp;&amp; (buf[k] != ' ')){ k++; } // æ³¨æ„éœ€è¦k++ buf[k++] = 0; copy(&amp;pars[i], buf + l); i++; } return i;}int main(int argc, char *argv[]){ if (argc &lt; 2) { fprintf(2, &quot;error arg number&quot;); exit(1); } else { char *args[MAXARG]; int i; int j; for (i = 1, j = 0; i &lt; argc; i++, j++) { copy(&amp;args[j], argv[i]); } int end; while ((end = readLine(args, argc - 1)) != -1) { args[end] = 0; if (fork() == 0) { // child exec(args[0], args); exit(1); } else { wait(0); } } } exit(0);} Optional challenge exercises Write an uptime program that prints the uptime in terms of ticks using the uptime system call. (easy) Support regular expressions in name matching for find. grep.c has some primitive support for regular expressions. (easy) The xv6 shell (user/sh.c) is just another user program and you can improve it.","link":"/2023/03/28/6-S081-Lab-util/"},{"title":"CS50ai","text":"Course About ä»‹ç»æœ‰å…³äººå·¥æ™ºèƒ½çš„é—®é¢˜ï¼Œå†…å®¹åŒ…æ‹¬æœç´¢ã€ä¼˜åŒ–ã€å­¦ä¹ ã€ç¥ç»ç½‘ç»œç­‰ Feeling äººå·¥æ™ºèƒ½åœ¨ä»Šå¤©å·²ç»æ˜¯ä¸€ä¸ªæ—¶ä»£æ€§çš„è¯é¢˜ï¼Œä»…ä»…æ˜¯åœ¨è¿™çŸ­çŸ­çš„ä¸€å¹´ä¹‹é—´ï¼Œæˆ‘å·²ç»è§è¯äº†å®ƒå¯¹ä¸åŒé¢†åŸŸçš„å†²å‡»ï¼Œä»AIç»˜ç”»åˆ°ChatGPT,æˆ–è€…æ˜¯å…¶ä»–çš„æ›´å¤šæ–¹é¢ï¼ŒçœŸæ­£çš„AIæ—¶ä»£ä¼¼ä¹å·²ç»åˆ°æ¥ã€‚ä»¥æˆ‘è‚¤æµ…çš„è®¤è¯†ï¼Œä»¥æˆ‘åœ¨è¯¾ç¨‹ä¸­å­¦åˆ°çš„å†…å®¹è¿˜æœ‰æˆ‘ç²—æµ…çš„ç†è§£ï¼Œæˆ‘ç¡®å®å¾ˆéš¾æƒ³è±¡ç¥ç»ç½‘ç»œå’Œåå‘ä¼ æ’­ï¼Œæœ€åå±…ç„¶èƒ½è®­ç»ƒå‡ºChatGPTè¿™æ ·ç°è±¡çº§çš„äººå·¥æ™ºèƒ½ã€‚ç»˜ç”»å’ŒCSéƒ½æ˜¯æˆ‘æ€è€ƒè¿‡æƒ³è¦æŠ•å…¥å…¶ä¸­çš„è¡Œä¸šï¼Œæˆ‘ä¸€æ–¹é¢æ˜ç™½äººå·¥æ™ºèƒ½çš„å‘å±•æ˜¯ç§‘æŠ€è¿›æ­¥çš„è±¡å¾ï¼Œå®ƒçš„åº”ç”¨å¿…å°†è®©è¿™ä¸ªä¸–ç•Œèµ°å‘æ›´åŠ æ™ºèƒ½å’Œç¾å¥½çš„æ–¹å‘ï¼Œä½†åŒæ—¶ä¸å¯é˜»æŒ¡çš„å‘å±•ï¼Œä¹Ÿæ­£åƒæµªæ½®ä¸€èˆ¬å¸­å·äº†ä»ä¸šè€…ã€‚æˆ‘æ–—èƒ†è‡ªè¯©ä¸ºç»˜ç”»è¡Œä¸šçš„æ—è§‚è€…ï¼Œåˆæˆ–è€…æ˜¯è¸å…¥CSåŠåªè„šçš„åŠåŠå­ï¼Œä½†æˆ‘å´æ·±æ·±ä½“ä¼šåˆ°äº†AIæ‰€å¸¦æ¥çš„è¿½èµ¶ä¸ä¸Šå’Œå°†è¢«æ›¿ä»£çš„å‹è¿«æ„Ÿã€‚æˆ‘åœ¨ä»¥å‰æ— æ³•é¢„çŸ¥ç°åœ¨çš„ç§‘æŠ€å‘å±•ï¼Œè€Œç°åœ¨ä¹Ÿä»ç„¶å¯¹æœªæ¥çš„æ—¥å­ä¸€æ— æ‰€çŸ¥ã€‚æˆ‘æ­£åƒå‡ å¹´å‰çš„é«˜è€ƒé‚£æ ·ï¼Œè¿·èŒ«åœ°èµ°å‘å‰å»ã€‚æˆ‘ä¸çŸ¥é“äººå·¥æ™ºèƒ½çš„æœªæ¥ï¼Œç”šè‡³ä¹Ÿä¸çŸ¥é“è‡ªå·±çš„æœªæ¥ã€‚ä½†å³ä¾¿å¦‚æ­¤ï¼Œæˆ‘è¿˜æ˜¯æƒ³è¦å»äº†è§£ç°ä»£çš„äººå·¥æ™ºèƒ½ï¼Œäº†è§£å®ƒçš„åŸç†å’Œå®ç°ï¼Œå¹¶ä¸”å°è¯•å»ä½¿ç”¨å®ƒã€‚ Links è¯¾ç¨‹ä¸»é¡µ è¯¾ç¨‹è§†é¢‘ (Updatingâ€¦)","link":"/2023/03/28/CS50ai/"},{"title":"GNU Make and CMake","text":"Introduction GNU Makeæ˜¯GNUé¡¹ç›®ä¸­çš„æ„å»ºå·¥å…·ï¼Œæ„å»ºæ–‡ä»¶ä¸ºMakefileã€‚è€ŒCMakeæ˜¯æ›´ä¸ºå¼ºå¤§çš„æ„å»ºå·¥å…·ï¼Œæ„å»ºæ–‡ä»¶ä¸ºCMakeList.txtï¼ŒCLionä½¿ç”¨CMakeä½œä¸ºå…¶æ„å»ºå·¥å…·ã€‚ Feeling Links GNU Make å‚è€ƒæ•™ç¨‹ CMake å®˜æ–¹æ–‡æ¡£ Updatingâ€¦","link":"/2023/03/28/Make/"},{"title":"CS61C","text":"Course About ä»‹ç»æœ‰å…³è®¡ç®—æœºç»„æˆçš„é—®é¢˜ï¼Œå†…å®¹åŒ…æ‹¬ç”µè·¯è®¾è®¡ã€RISC-Væ±‡ç¼–ã€CPUæµæ°´çº¿ç­‰ç­‰ Feeling Links è¯¾ç¨‹ä¸»é¡µ è¯¾ç¨‹è§†é¢‘(åœ¨ä¸»é¡µ)","link":"/2023/03/27/CS61C/"},{"title":"Git and Github","text":"Introduction Gitæ˜¯Linuså¼€å‘çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œè€ŒGithubæ˜¯åœ¨çº¿ä»£ç æ‰˜ç®¡å¹³å° Feeling æˆ‘å¸¸å¸¸è§‰å¾—git/githubå¯¹æˆ‘æ¥è¯´åªæœ‰git add git commit git pushä¸‰éƒ¨æ›²ï¼Œåˆ«äººçš„gitç‰ˆæœ¬æ§åˆ¶æ˜¯æœ‰å‘æ— ç¯å›¾(DAG), è€Œæˆ‘çš„gitæ˜¯é“¾è¡¨ğŸ˜†ã€‚ä½†æ˜¯å­¦ä¼šå®Œæ•´çš„git/githubå·¥ä½œæµæ˜¯å¿…è¦çš„ã€‚ Links Pro Git (ä¸€æœ¬åœ¨çº¿Gitå­¦ä¹ ä¹¦ç±) ä½¿ç”¨ç»ƒä¹  Updatingâ€¦","link":"/2023/03/27/Git-and-Github/"},{"title":"MIT 6.031: Software Construction","text":"Course About ä»‹ç»æœ‰å…³è½¯ä»¶å·¥ç¨‹çš„é—®é¢˜ Links è¯¾ç¨‹ä¸»é¡µ (Updatingâ€¦)","link":"/2023/03/26/MIT-6-031/"},{"title":"MIT 6.S081: Operating System Engineering","text":"Catalog description: Design and implementation of operating systems, and their use as a foundation for systems programming. Topics include virtual memory; file systems; threads; context switches; kernels; interrupts; system calls; interprocess communication; coordination, and interaction between software and hardware. A multi-processor operating system for RISC-V, xv6, is used to illustrate these topics. Individual laboratory assignments involve extending the xv6 operating system, for example to support sophisticated virtual memory features and networking. Feeling æ“ä½œç³»ç»Ÿå±‚çš„ç¼–ç¨‹ä»¥å®ƒæ³¨é‡ç¡¬ä»¶ç›´æ¥äº¤äº’ï¼Œå…¼é¡¾æ€§èƒ½ä¸å®‰å…¨çš„ç‰¹å¾è€Œä¸ºäººæ‰€çŸ¥ã€‚æ“ä½œç³»ç»Ÿå’Œæœºå™¨æ¶æ„æ–¹é¢çš„é—®é¢˜ï¼Œæ—¶å¸¸è®©æˆ‘åœ¨æƒ³ï¼Œå…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹ã€‚æ‰€è°“çš„Shellæ˜¯å†…æ ¸ä¹‹å¤–çš„ç”¨æˆ·ç¨‹åºï¼Œå®ƒæ‰§è¡Œä¸åŒç§ç±»çš„ç³»ç»Ÿè°ƒç”¨ä»¥è®©æˆ‘è§‰å¾—ï¼ŒShellå°±æ˜¯å†…æ ¸çš„åŒ…è£…å’Œå¤–å£³(Shell)ã€‚ä½†æ˜¯åœ¨Shellä¹‹å‰çš„äº‹æƒ…å‘¢ï¼Œæœºå™¨å¦‚ä½•æ‘†æ”¾å®ƒåœ¨å±å¹•ä¸Šçš„æ–‡å­—ï¼Œä»¥è®©æˆ‘è§‰å¾—æˆ‘åœ¨ä½¿ç”¨Shellï¼Ÿå¦‚æœæ²¡æœ‰Shellï¼Œäº‹æƒ…åˆä¼šå˜å¾—æ€æ ·å‘¢ï¼Ÿç½‘ç»œæ˜¯ä¸€ç§I/Oè®¾å¤‡ï¼Œå®ƒåœ¨æ“ä½œç³»ç»Ÿä¸‹çš„æ¥å£æ˜¯æ€æ ·çš„ï¼Ÿæˆ‘ä»¬æ‰€ç†Ÿæ‚‰çš„Cè¯­è¨€ä¸­é‚£äº›ç†æ‰€åº”å½“çš„å‡½æ•°å’Œæ•°æ®ç»“æ„ï¼Œæ˜¯æ€æ ·ç”±æ“ä½œç³»ç»Ÿå°è£…æä¾›çš„ï¼Ÿæ“ä½œç³»ç»Ÿæ˜¯ç¡¬ä»¶ä¸ç”¨æˆ·å±‚ä¹‹é—´çš„é‡è¦æ¡¥æ¢ï¼Œå®ƒä¸ä»…ä»…æ˜¯æŸç§&quot;Cache&quot;ï¼Œä¸ä»…ä»…æ˜¯æŸç§GUIï¼Œå®ƒæ˜¯å¾ˆå¤šä¸œè¥¿çš„é›†åˆå’Œå°è£…ï¼Œä½†å¹¸è¿çš„æ˜¯ï¼Œå®ƒæ˜¯è¿è¡Œä¸­çš„ç¨‹åºï¼Œå®ƒä¸ç”±è°æä¾›ç¯å¢ƒï¼Œå®ƒè¦è‡ªå·±é€‚åº”ç¯å¢ƒã€‚ Links è¯¾ç¨‹ä¸»é¡µ(Fall21) è¯¾ç¨‹è§†é¢‘ è¯¾ç¨‹è§†é¢‘ç¿»è¯‘ xv6 ä¸­æ–‡æ–‡æ¡£ (Updatingâ€¦)","link":"/2023/03/26/MIT-6-S081/"},{"title":"Maki Abstract algebra","text":"Course About æŠ½è±¡ä»£æ•°Iæ˜¯ç”¨ä»£æ•°æ–¹æ³•ç ”ç©¶ä»£æ•°ç»“æ„çš„ç¬¬ä¸€é—¨è¯¾ã€‚ä»‹ç»ç¾¤è®ºã€ç¯è®ºã€å¤šé¡¹å¼ç†è®ºå’ŒåŸŸè®ºçš„åŸºç¡€çŸ¥è¯†ã€‚å…ˆä¿®è¯¾ç¨‹æ˜¯æ•°å­¦åˆ†æå’Œé«˜ç­‰ä»£æ•°ã€‚ Links è¯¾ç¨‹ä¸»é¡µ è¯¾ç¨‹è§†é¢‘ (Updatingâ€¦)","link":"/2023/03/26/Maki-%E6%8A%BD%E8%B1%A1%E4%BB%A3%E6%95%B0/"},{"title":"Maki Topology","text":"Course About ä»‹ç»äº†æ‹“æ‰‘ç©ºé—´ã€è¿ç»­æ˜ å°„ã€ç»å…¸çš„æ‹“æ‰‘ä¸å˜é‡ä»¥åŠä¸€äº›é‡è¦çš„æ‹“æ‰‘å­¦å®šç†ã€‚ Links è¯¾ç¨‹ä¸»é¡µ è¯¾ç¨‹è§†é¢‘ è¯¾ç¨‹è®²ä¹‰ å‚è€ƒä¹¦ç± ç¬¬1è®² Rä¸Šçš„é€šå¸¸æ‹“æ‰‘ è¿™èŠ‚è¯¾çš„å¼€å§‹å¤§è‡´ä¸ºæˆ‘ä»¬è®²è¿°äº†ç‚¹é›†æ‹“æ‰‘çš„èƒŒæ™¯å’Œç‚¹é›†æ‹“æ‰‘å­¦ç ”ç©¶çš„å¯¹è±¡ï¼Œè¿™é—¨è¯¾å°†ä»$R$ä¸Šçš„é€šå¸¸æ‹“æ‰‘å¼€å§‹ï¼Œä»å…·ä½“åˆ°æŠ½è±¡ä¸€æ­¥æ­¥åœ°ä¸ºæˆ‘ä»¬æ­å¼€æ‹“æ‰‘çš„æœ¬è´¨ã€‚ æ‹“æ‰‘ç©ºé—´æ˜¯ä¸€ä¸ªé›†åˆ æ‹“æ‰‘ç©ºé—´ä¸­å¼€é›†çš„é›†åˆ-&gt;{å¼€é›†} è¢«ç§°ä¸ºæ‹“æ‰‘ ç‚¹é›†æ‹“æ‰‘å­¦çš„ç ”ç©¶å¯¹è±¡æ˜¯æ‹“æ‰‘ç©ºé—´ï¼Œæ‹“æ‰‘ï¼Œè¿ç»­æ˜ å°„ï¼ŒåŒèƒšæ˜ å°„ï¼Œæ‹“æ‰‘ä¸å˜é‡ç­‰ æœ¬èŠ‚è¯¾å»ºç«‹åœ¨$R$ä¸Šçš„é€šå¸¸æ‹“æ‰‘ä¸‹ å®šä¹‰1.1 $ è‹¥x\\in R, \\varepsilon &gt; 0,åˆ™ä»¥xä¸ºåœ†å¿ƒ,\\varepsilonä¸ºåŠå¾„çš„å¼€çƒï¼Œè®°ä½œB(x, \\varepsilon),å®šä¹‰ä¸ºB(x, \\varepsilon) = \\{ y\\in R: |y - x| &lt; \\varepsilon \\}ã€‚ $ è¿™ä¸ªå®šä¹‰å®é™…ä¸Šå°±æ˜¯$\\varepsilon$-é‚»åŸŸçš„æ¦‚å¿µï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªç‚¹çš„â€œé™„è¿‘â€ï¼Œåœ¨åé¢æˆ‘ä»¬å°†å­¦ä¹ åˆ°ï¼Œè¿™ç§é™„è¿‘çš„å®šä¹‰çš„å»¶ä¼¸å°±æ˜¯$R$ä¸Šçš„é€šå¸¸æ‹“æ‰‘ï¼Œå¦‚æœæ¢ä¸€ç§â€œé™„è¿‘â€çš„å®šä¹‰ï¼Œå°±ä¼šå¾—åˆ°ä¸åŒçš„æ‹“æ‰‘ã€‚ å‘½é¢˜1.1 $ è‹¥Iæ˜¯ä¸€ä¸ªå¼€åŒºé—´ï¼Œåˆ™å¯¹äºä»»æ„x\\in Iï¼Œå­˜åœ¨\\varepsilon &gt; 0ï¼Œä½¿å¾—B(x, \\varepsilon) \\subset Iã€‚ $ è¿™æ˜¯å¼€åŒºé—´çš„å®šä¹‰ï¼Œæ„æ€æ˜¯å¯¹äºå¼€åŒºé—´çš„ä»»ä¸€ç‚¹ï¼Œå¼€åŒºé—´ä¼šåŒ…å«æ¯ä¸€ä¸ªç‚¹çš„å°é‚»åŸŸ å®šä¹‰1.2 $ è‹¥ U \\subset Rï¼Œåˆ™ U è¢«ç§°ä¸º R ä¸Šçš„ä¸€ä¸ªå¼€é›†ï¼Œè‹¥å¯¹äºä»»æ„ x \\in Uï¼Œå­˜åœ¨ \\varepsilon &gt; 0ï¼Œä½¿å¾—B(x, \\varepsilon) \\subset Uã€‚ $ è¿™æ˜¯å¼€é›†çš„å®šä¹‰ï¼Œæ˜¾ç„¶å¼€åŒºé—´éƒ½æ˜¯å¼€é›†ï¼Œä½†åè¿‡æ¥ï¼Œå¼€é›†ä¸ä¸€å®šæ˜¯å¼€åŒºé—´ å®šä¹‰1.3 $ è‹¥ A \\subset Rï¼Œåˆ™ x \\in R è¢«ç§°ä¸º A çš„ä¸€ä¸ªæé™ç‚¹ï¼Œè‹¥å­˜åœ¨ A ä¸­çš„ä¸€ä¸ªæ•°åˆ— (a_{n}) \\subset Aï¼Œä½¿å¾— \\lim_{n \\to \\infty} a_{n} = xã€‚ $ è¿™æ˜¯å­é›†çš„æé™ç‚¹çš„å®šä¹‰ å¼•ç†1.1 $ è‹¥ A \\subset Rï¼Œåˆ™ x \\in R æ˜¯ A çš„ä¸€ä¸ªæé™ç‚¹ï¼Œå½“ä¸”ä»…å½“ï¼Œå¯¹äºä»»æ„ \\varepsilon &gt; 0ï¼Œéƒ½å¯ä»¥æ‰¾åˆ° a \\in Aï¼Œä½¿å¾— |a - x| &lt; \\varepsilon $ è¿™åœ¨å¾®ç§¯åˆ†å’Œæ•°å­¦åˆ†æä¸­æ˜¾ç„¶ å‘½é¢˜1.2 $ è‹¥Iæ˜¯ä¸€ä¸ªé—­åŒºé—´ï¼Œåˆ™å®ƒåŒ…å«æ‰€æœ‰Içš„æé™ç‚¹ã€‚æ¢è¨€ä¹‹ï¼Œå¦‚æœxæ˜¯Içš„ä¸€ä¸ªæé™ç‚¹ï¼Œé‚£ä¹ˆx \\in Iã€‚ $ å®šä¹‰1.4 $ è‹¥ V æ˜¯ R çš„ä¸€ä¸ªå­é›†ï¼Œåˆ™å®ƒè¢«ç§°ä¸º R çš„ä¸€ä¸ªé—­é›†ï¼Œè‹¥æ¯ä¸€ä¸ª Vçš„æé™ç‚¹éƒ½åœ¨ V ä¸­ã€‚ $ æ˜¾ç„¶ï¼Œé—­åŒºé—´éƒ½æ˜¯é—­é›†ã€‚ å‘½é¢˜1.3 $ ä»¤ U æ˜¯ R çš„ä¸€ä¸ªå­é›†ï¼Œåˆ™ U æ˜¯ R ä¸­çš„ä¸€ä¸ªå¼€é›†å½“ä¸”ä»…å½“ V = R âˆ’ Uæ˜¯ R ä¸­çš„ä¸€ä¸ªé—­é›†ã€‚ $ ä¸€ä¸ªè‡³å…³é‡è¦çš„ç»“è®ºï¼Œå°±æ˜¯è¯´ï¼Œå¼€é›†å’Œé—­é›†æ˜¯ç›¸è¡¥çš„ã€‚ ç¬¬2è®² Rä¸Šçš„é€šå¸¸æ‹“æ‰‘ è¿™èŠ‚è¯¾å¯¹å¼€é›†å’Œé—­é›†çš„æ€§è´¨è¿›è¡Œäº†è®²è§£ï¼ŒåŒæ—¶ä¹Ÿé˜è¿°äº†é›†åˆçš„å†…éƒ¨ä¸å¤–éƒ¨çš„å«ä¹‰ è¿˜æ˜¯è¦æ³¨æ„æœ¬èŠ‚å†…å®¹éƒ½æ˜¯ç›¸å¯¹äºRä¸Šçš„é€šå¸¸æ‹“æ‰‘è€Œè¨€ è¦æ›´æ³¨é‡æ•°å­¦æ¡†æ¶ã€é€»è¾‘æ¨å¯¼æœ¬èº«ï¼Œè€Œä¸æ˜¯åªæ³¨é‡æ•°å­¦è¡¨è¾¾çš„åè¯å’Œè¯­è¨€ å‘½é¢˜1.4ï¼ˆRä¸­å¼€é›†çš„æ€§è´¨ï¼‰ $ 1.\\phi, R éƒ½æ˜¯ R ä¸­çš„å¼€é›†ã€‚\\newline 2.è‹¥ U_{a} å¯¹ä»»æ„ a \\in I éƒ½æ˜¯ R ä¸­çš„å¼€é›†ï¼Œåˆ™ \\bigcup_{a \\in I} U_{a} ä¹Ÿæ˜¯ R ä¸­çš„å¼€é›†ã€‚\\newline 3.è‹¥ U_{1}, Â· Â· Â· , U_{n} éƒ½æ˜¯ R ä¸­çš„å¼€é›†ï¼Œåˆ™ \\bigcap_{i=1}^{n}U_{i} ä¹Ÿæ˜¯ R ä¸­çš„å¼€é›†ã€‚ $ è¯æ˜ 1æ˜¾ç„¶æˆç«‹ 2æ˜¯è¯´å¼€é›†å¯¹ä»»æ„å¹¶å°é—­ 3æ˜¯è¯´å¼€é›†å¯¹æœ‰é™äº¤å°é—­ å‘½é¢˜1.5ï¼ˆRä¸­é—­é›†çš„æ€§è´¨ï¼‰ $ 1.\\phi, R éƒ½æ˜¯ R ä¸­çš„é—­é›†ã€‚\\newline 2.è‹¥ U_{a} å¯¹ä»»æ„ a \\in I éƒ½æ˜¯ R ä¸­çš„é—­é›†ï¼Œåˆ™ \\bigcap_{a \\in I} U_{a} ä¹Ÿæ˜¯ R ä¸­çš„é—­é›†ã€‚ \\newline 3.è‹¥ U_{1}, Â· Â· Â· , U_{n} éƒ½æ˜¯ R ä¸­çš„é—­é›†ï¼Œåˆ™ \\bigcup_{i=1}^{n}U_{i} ä¹Ÿæ˜¯ R ä¸­çš„é—­é›†ã€‚ $ 1æ˜¾ç„¶æˆç«‹ 2æ˜¯è¯´é—­é›†å¯¹ä»»æ„äº¤å°é—­ 3æ˜¯è¯´é—­é›†å¯¹æœ‰é™å¹¶å°é—­ é—­é›†çš„æ€§è´¨åœ¨Rä¸Šå¯ä»¥é€€å‡ºé—­åŒºé—´å¥—å®šç† ç”±å¾·æ‘©æ ¹å¾‹ç»“åˆå¼€é›†çš„æ€§è´¨ï¼Œé—­é›†çš„æ€§è´¨æ˜¾ç„¶æˆç«‹ å¼•ç†ï¼šDe Morganå¾‹ $ (A \\bigcap B)^{C} = A^{C} \\bigcup B^{C} \\newline (A \\bigcup B)^{C} = A^{C} \\bigcap B^{C} \\newline ( \\bigcap_{i = 1}^{n} A_{i})^{C} = \\bigcup_{i = 1}^{n} {A_{i}}^{C} \\newline ( \\bigcup_{i = 1}^{n} A_{i})^{C} = \\bigcap_{i = 1}^{n} {A_{i}}^{C} \\newline (\\bigcap_{\\alpha \\in I}A_{\\alpha})^{C} = \\bigcup_{\\alpha \\in I} {A_{\\alpha}}^{C} \\newline (\\bigcup_{\\alpha \\in I}A_{\\alpha})^{C} = \\bigcap_{\\alpha \\in I} {A_{\\alpha}}^{C} $ è¯æ˜ å®šä¹‰ 1.5 $ ä»¤ A æ˜¯ R çš„ä¸€ä¸ªå­é›†ï¼Œåˆ™ A çš„é—­åŒ…ï¼Œè®°ä½œ cl(A) = \\bar{A}ï¼Œå®šä¹‰ä¸ºç”± A çš„æ‰€æœ‰æé™ç‚¹æ„æˆçš„é›†åˆã€‚ $ å¼•ç†1.2 $ ğ‘‰ æ˜¯ R çš„é—­å­é›†å½“ä¸”ä»…å½“ V = \\bar{V}ã€‚ $ å®šä¹‰1.6 $ ä»¤ A æ˜¯ R çš„ä¸€ä¸ªå­é›†ã€‚ \\newline 1.A çš„å†…éƒ¨ï¼Œè®°ä½œ Int(A)ï¼Œå®šä¹‰ä¸º \\{ x \\in R: \\exists \\varepsilon &gt; 0, B(x, \\varepsilon) \\subset A \\} = \\{ x \\in R: \\exists \\varepsilon &gt; 0, ğµ(x, \\varepsilon) \\cap A^{C} = \\phi \\}ã€‚ \\newline 2.A çš„å¤–éƒ¨ï¼Œè®°ä½œ Ext(A)ï¼Œå®šä¹‰ä¸º \\{ x \\in R: \\exists \\varepsilon &gt; 0, ğµ(x, \\varepsilon) \\subset A^{C} \\} = \\{ x \\in R: \\exists \\varepsilon &gt; 0, ğµ(x, \\varepsilon) \\cap A = \\phi \\}ã€‚ \\newline 3.A çš„è¾¹ç•Œï¼Œè®°ä½œ \\partial (A)ï¼Œå®šä¹‰ä¸º \\{ x \\in R: \\forall \\varepsilon &gt; 0, ğµ(x, \\varepsilon) \\cap A \\ne 0 ä¸” ğµ(x, \\varepsilon) \\cap A^{C} \\ne 0 \\}ã€‚ $ è¿™ä¸‰ä¸ªå½¢è±¡çš„å®šä¹‰ä¸ºæˆ‘ä»¬æç»˜äº†Rä¸Šçš„é€šå¸¸æ‹“æ‰‘ ç¬¬3è®² Rä¸Šçš„é€šå¸¸æ‹“æ‰‘ è¿™èŠ‚è¯¾ä¸ºæˆ‘ä»¬ä»‹ç»äº†é›†åˆçš„å†…éƒ¨ã€å¤–éƒ¨ã€è¾¹ç•Œçš„æ€§è´¨ å¼•ç†1.3 $ ä»¤ A æ˜¯ R çš„ä¸€ä¸ªå­é›†ï¼Œåˆ™ Int(A) \\cap Ext(A) = \\phiã€‚ $ å¼•ç†1.4 $ 1.Int(A) \\subset Aã€‚ \\newline 2.Ext(A) \\subset A = \\phiã€‚ \\newline 3.Int(A) å’Œ Ext(A) æ˜¯ä¸¤ä¸ªå¼€é›†ã€‚ \\newline 4.A \\cup \\partial A = Int(A) \\sqcup \\partial A æ˜¯ä¸€ä¸ªé—­é›†ã€‚ $ è¯æ˜ å‘½é¢˜1.6 $ ä»¤ A æ˜¯ R çš„ä¸€ä¸ªå­é›†ï¼Œåˆ™ \\newline 1.A æ˜¯å¼€é›†å½“ä¸”ä»…å½“ A = Int(A)ã€‚ \\newline 2.\\bar{A} = A \\cup \\partial A = Int(A) \\sqcup \\partial Aã€‚ \\newline 3.Aæ˜¯é—­é›†å½“ä¸”ä»…å½“ \\partial A \\subset Aã€‚ $ å‘½é¢˜1.7 $ ä»¤ A æ˜¯ R çš„ä¸€ä¸ªå­é›†ï¼Œåˆ™ \\newline 1.Int(A) æ˜¯ A ä¸­æœ€å¤§çš„å¼€é›†ã€‚ \\newline 2.\\bar{A} æ˜¯åŒ…å«äº† A çš„æœ€å°çš„é—­é›†ã€‚ $ å‘½é¢˜1.8 $ ä»¤ A æ˜¯ R çš„ä¸€ä¸ªå­é›†ï¼Œåˆ™ \\newline 1.(Int(A))^{C} = \\bar{A^{C}} \\newline 2.(\\bar{A})^{C} = Int(A^{C}) $ è¯æ˜ $(Int(A))^{C} = \\partial A \\sqcup Ext(A) = \\partial (A^{C}) \\sqcup Int(A^{C}) = \\bar{A^{C}}$ ç”±äºä¸¤ä¸ªç»“è®ºå¯¹ç§°ï¼Œå°†$A$æ¢æˆ$A^{C}$ï¼ŒäºŒå¼æ˜¾ç„¶æˆç«‹ ç¬¬4è®² Rä¸Šçš„è¿ç»­æ˜ å°„ å®šä¹‰1.7 $ f: R \\to R è¢«ç§°ä¸ºä¸€ä¸ªè¿ç»­æ˜ å°„ï¼Œè‹¥å¯¹äºä»»æ„ x \\in R å’Œä»»æ„ \\varepsilon &gt; 0ï¼Œéƒ½å­˜åœ¨ä¸€ä¸ª \\delta &gt; 0ï¼Œ\\newline ä½¿å¾—å¯¹ä»»æ„ yï¼Œåªè¦ |x - y| &lt; \\delta ï¼Œå°±æœ‰ |f(x) - f(y)| &lt; \\varepsilon $ è¿™å…¶å®ç­‰ä»·äºè¯´ $ å¯¹Rä¸­ä»»ä½•ä¸€ä¸ªå½¢å¦‚B(f(x), \\varepsilon) çš„å¼€çƒï¼Œæˆ‘ä»¬éƒ½èƒ½æ‰¾åˆ°ä¸€ä¸ªå½¢å¦‚ B(x, \\delta) çš„å¼€çƒï¼Œä½¿å¾—f(B(x, \\delta)) \\subset B(f(x), \\varepsilon)ã€‚ $ å‘½é¢˜1.9 $ f: R \\to R æ˜¯ä¸€ä¸ªè¿ç»­æ˜ å°„ï¼Œå½“ä¸”ä»…å½“å¯¹ä»»æ„ R ä¸­çš„å¼€å­é›† Uï¼Œæˆ‘ä»¬éƒ½æœ‰ f^{-1}(U)æ˜¯Rçš„å¼€å­é›† $ è¿™ä¸ªå®šä¹‰çš„æ„æ€æ˜¯å¼€é›†çš„åŸåƒæ˜¯å¼€é›† å®šä¹‰1.8 $ f : R \\to R è¢«ç§°ä¸ºä¸€ä¸ªåŒèƒšæ˜ å°„ï¼Œè‹¥ \\newline 1.f æ˜¯ä¸€ä¸ªåŒå°„ã€‚\\newline 2.f æ˜¯ä¸€ä¸ªè¿ç»­æ˜ å°„ã€‚\\newline 3.f^{-1} æ˜¯ä¸€ä¸ªè¿ç»­æ˜ å°„ã€‚ $ åœ¨Rä¸ŠåŒèƒšçš„å®šä¹‰ç”±1 2å¯ä»¥æ¨å‡º3ï¼Œè€Œåœ¨ä¸€èˆ¬çš„æ‹“æ‰‘ç©ºé—´å°±ä¸è¡Œäº† å¼•ç†1.5 $ è‹¥ f : R \\to R æ˜¯ä¸€ä¸ªè¿ç»­çš„å•å°„ï¼Œåˆ™ f è¦ä¹ˆåœ¨ R ä¸Šæ˜¯ä¸¥æ ¼é€’å¢çš„ï¼Œè¦ä¹ˆåœ¨ R ä¸Šæ˜¯ä¸¥æ ¼é€’å‡çš„ã€‚ $ æ•°å­¦åˆ†æä¸­æ˜¾ç„¶ å‘½é¢˜1.10 $ è‹¥ f : R \\to R æ˜¯ä¸€ä¸ªè¿ç»­çš„åŒå°„ï¼Œåˆ™ f æ˜¯ä¸€ä¸ªåŒèƒšã€‚ $ $R^{n}$ä¸Šä¹Ÿæ˜¯æˆç«‹çš„ï¼Œä½†æ˜¯è¯æ˜è¦ç”¨åˆ°ä»£æ•°æ‹“æ‰‘çš„çŸ¥è¯† ç¬¬5è®² åº¦é‡ç©ºé—´ å®šä¹‰1.9 $ ä»¤ x \\in R^{n}ï¼Œè€Œ \\varepsilon &gt; 0ï¼Œåˆ™ B(x, \\varepsilon) = \\{ y \\in R^{n}: d(x, y) = |x âˆ’ y| &lt; \\varepsilon \\}ã€‚ $ è¿™æ˜¯ä¸€ä¸ªèµ‹èŒƒç©ºé—´ä¸Šçš„å¼€çƒå®šä¹‰ ä¸åŒç©ºé—´çš„å…³ç³»ï¼šå†…ç§¯-&gt;èµ‹èŒƒ(é•¿åº¦)-&gt;åº¦é‡(è·ç¦»)-&gt;æ‹“æ‰‘ å®Œå¤‡çš„å†…ç§¯ç©ºé—´å«åšHirbertç©ºé—´ å†…ç§¯ç©ºé—´æ¶‰åŠåˆ°æ³›å‡½åˆ†æçš„æ–¹å‘ å®Œå¤‡çš„èµ‹èŒƒç©ºé—´å«åšBanachç©ºé—´ èµ‹èŒƒç©ºé—´çš„å®šä¹‰å¦‚ä¸‹ $ |.|: R^{n} \\to R(R^{n}æ˜¯Rä¸Šçš„èµ‹èŒƒç©ºé—´) \\newline 1.\\forall x \\in R^{n}, |x| \\ge 0 ä¸” \\newline |x| = 0 \\Leftrightarrow x = 0 \\newline 2.c \\in R, \\forall x \\in R^{n}, |cx| = |c||x| \\newline 3.\\forall x, y \\in R^{n},|x+y| \\le |x|+|y| $ å®šä¹‰1.10 $ ä»¤U æ˜¯ R^{n}çš„ä¸€ä¸ªå­é›†ï¼Œåˆ™Uè¢«ç§°ä¸ºä¸€ä¸ª R^{n}çš„å¼€å­é›†ï¼Œè‹¥å¯¹ä»»æ„ x \\in Uï¼Œå­˜åœ¨ä¸€ä¸ª \\varepsilon &gt; 0ï¼Œä½¿å¾— B(x, \\varepsilon) \\subset Uã€‚ $ å¼•ç†1.6 $ 1.ä»¤ x, y âˆˆ R^{n}ï¼Œåˆ™ |x + y| \\le |x| + |y|ã€‚ \\newline 2.ä»¤ x, y, z âˆˆ R^{n}ï¼Œåˆ™ d(x, z) â‰¤ d(x, y) + d(y, z)ã€‚ $ è¿™åˆ†åˆ«æ˜¯èµ‹èŒƒç©ºé—´å’Œåº¦é‡ç©ºé—´ä¸­çš„ä¸‰è§’ä¸ç­‰å¼ å¼•ç†1.7 $ ä»¤ x \\in R^{n}ï¼Œè€Œ \\varepsilon &gt; 0ï¼Œåˆ™ B(x, \\varepsilon) æ˜¯ä¸€ä¸ª R^{n}çš„å¼€å­é›†ã€‚ $ $R^{n}$ä¸Šçš„å¼€çƒéƒ½æ˜¯å¼€é›† å®šä¹‰1.11 $ ä»¤ X æ˜¯ä¸€ä¸ªéç©ºé›†åˆï¼Œåˆ™ d : X Ã— X \\to R è¢«ç§°ä¸º X ä¸Šçš„ä¸€ä¸ªåº¦é‡ï¼Œè‹¥ \\newline 1.ï¼ˆæ­£å®šæ€§ï¼‰å¯¹ä»»æ„ x, y \\in Xï¼Œæˆ‘ä»¬æœ‰ d(x, y) â‰¥ 0ã€‚æ­¤å¤–ï¼Œå¯¹ä»»æ„ x, y \\in Xï¼Œæˆ‘ä»¬æœ‰ d(x, y) = 0 \\Leftrightarrow x = yï¼› \\newline 2.ï¼ˆå¯¹ç§°æ€§ï¼‰å¯¹ä»»æ„ x, y \\in Xï¼Œæˆ‘ä»¬æœ‰ d(x, y) = d(y, x)ï¼› \\newline 3.ï¼ˆä¸‰è§’ä¸ç­‰å¼ï¼‰å¯¹ä»»æ„ x, y, z \\in Xï¼Œæˆ‘ä»¬æœ‰ d(x, z) â‰¤ d(x, y) + ğ‘‘(y, z)ã€‚ \\newline è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬ç§° (X, d) æ˜¯ä¸€ä¸ªåº¦é‡ç©ºé—´ã€‚ $ è¿™æ˜¯æŠ½è±¡åçš„åº¦é‡ç©ºé—´çš„å®šä¹‰ï¼Œæ¯ä¸€ä¸ªåº¦é‡ç©ºé—´éƒ½å¯ä»¥å¼•å‡ºä¸€ä¸ªæ‹“æ‰‘ å®šä¹‰1.12 $ ä»¤ X æ˜¯ä¸€ä¸ªé›†åˆï¼Œåˆ™ \\tau \\subset P (X) æ˜¯ X ä¸Šçš„ä¸€ä¸ªæ‹“æ‰‘ï¼Œè‹¥ \\newline 1.\\phi, X \\in \\tauï¼› \\newline 2.å¦‚æœå¯¹ä»»æ„ a \\in Iï¼Œæˆ‘ä»¬æœ‰ U_{a} \\in \\tauï¼Œåˆ™å®ƒä»¬çš„ä»»æ„å¹¶ä¹Ÿåœ¨ \\tau ä¸­,å³\\cup_{a \\in I}U_{a} \\in \\tau \\newline 3.å¦‚æœU_{1}â€¦U_{i} \\in \\tau, åˆ™\\cap_{i=1}^{n} \\in \\tau \\newline æˆ‘ä»¬ç§° (X, \\tau) æ˜¯ä¸€ä¸ªæ‹“æ‰‘ç©ºé—´ã€‚åœ¨ä¸å¼•èµ·æ­§ä¹‰çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ç®€å•åœ°ç§° X æ˜¯ä¸€ä¸ªæ‹“æ‰‘ç©ºé—´ã€‚ \\newline è¿›ä¸€æ­¥åœ°ï¼ŒA \\subset X è¢«ç§°ä¸ºä¸€ä¸ªå¼€é›†å½“ä¸”ä»…å½“ A \\in \\tauï¼ŒA è¢«ä¸ºä¸€ä¸ªé—­é›†å½“ä¸”ä»…å½“ A^{C} = X - Aæ˜¯ä¸€ä¸ªå¼€é›†ã€‚ $ è¿™é‡Œæå‰ç»™å‡ºæ‹“æ‰‘çš„å®šä¹‰ å‘½é¢˜1.10 $ å‡è®¾ (X, d) æ˜¯ä¸€ä¸ªåº¦é‡ç©ºé—´ï¼Œåˆ™ U \\subset X è¢«ç§°ä¸ºä¸€ä¸ª (X, d) ä¸€ä¸ªå¼€å­é›†ï¼Œå½“ä¸”ä»…å½“å¯¹äº x \\in Uï¼Œå­˜åœ¨ \\varepsilon &gt; 0ï¼Œä½¿å¾— B(x, \\varepsilon) \\subset Uã€‚ $ å®šä¹‰1.13 $ å¦‚ä¸Šå®šä¹‰çš„å¼€é›†ç»™å‡ºäº† (X, d) çš„ä¸€ä¸ªæ‹“æ‰‘ç»“æ„ã€‚æ¢è¨€ä¹‹ï¼Œä¸Šé¢å®šä¹‰çš„å¼€é›†æ»¡è¶³æ‹“æ‰‘ç©ºé—´çš„ä¸‰æ¡å…¬ç†ã€‚ $ å®šä¹‰1.14 $ å‡è®¾ (X, d) æ˜¯ä¸€ä¸ªåº¦é‡ç©ºé—´ï¼Œx \\in Xï¼ŒA, B æ˜¯ X çš„ä¸¤ä¸ªéç©ºå­é›†ï¼Œåˆ™ \\newline 1.A çš„ç›´å¾„ï¼Œè®°ä½œ diam(A)ï¼Œå®šä¹‰ä¸º diam(A) = sup_{x, y \\in A}d(x, y)ï¼› \\newline 2.x å’Œ A çš„è·ç¦»ï¼Œè®°ä½œ d(x, A)ï¼Œå®šä¹‰ä¸º d(x, A) = inf_{y \\in A} ğ‘‘(ğ‘¥, ğ‘¦)ï¼› \\newline 3.A å’Œ B çš„è·ç¦»ï¼Œè®°ä½œ d(A, B)ï¼Œå®šä¹‰ä¸º d(A, B) = inf_{x \\in A, y \\in B}d(x,y)ã€‚ $ supä¸Šç¡®ç•Œ infä¸‹ç¡®ç•Œ å®šä¹‰1.15 $ æˆ‘ä»¬ç§°éç©ºå­é›† A \\subset X æ˜¯ä¸ªæœ‰ç•Œé›†åˆï¼Œè‹¥ diam(A) &lt; \\infty $ ç›´å¾„å¯ä»¥æ— ç©·ï¼Œä½†è·ç¦»ä¸èƒ½æ— ç©· å¼•ç†1.8 $ ä»¤ A æ˜¯ X çš„ä¸€ä¸ªéç©ºå­é›†ï¼Œè€Œ x, y \\in Xï¼Œåˆ™ d(x, A) â‰¤ d(x, y) + d(y, A)ã€‚ $ å®šä¹‰1.16 $ ä»¤ (X, d)ï¼Œ(Y, dâ€²) æ˜¯ä¸¤ä¸ªåº¦é‡ç©ºé—´ï¼Œåˆ™ f : X \\to Y æ˜¯ä¸€ä¸ªè¿ç»­æ˜ å°„ï¼Œ \\newline è‹¥å¯¹äºä»»æ„ x \\in X å’Œ \\varepsilon &gt; 0ï¼Œå­˜åœ¨ä¸€ä¸ª \\delta &gt; 0ï¼Œä½¿å¾—å¯¹ä»»æ„ y \\in Xï¼Œåªè¦ d(x, y) &lt; \\deltaï¼Œå°±æœ‰ dâ€²(f(x), f(y)) &lt; \\varepsilonã€‚ $ å‘½é¢˜1.12 $ ä»¤ (X, d)ï¼Œ(Y, dâ€™) æ˜¯ä¸¤ä¸ªåº¦é‡ç©ºé—´ï¼Œåˆ™ f:X \\to Y æ˜¯ä¸€ä¸ªè¿ç»­æ˜ å°„ï¼Œ \\newline å½“ä¸”ä»…å½“å¯¹ä»»æ„ Y ä¸­çš„å¼€é›† Uï¼Œæˆ‘ä»¬æœ‰ f^{-1}(U)æ˜¯ ğ‘‹ ä¸­çš„ä¸€ä¸ªå¼€é›†ã€‚ $ è¿™å…¶å®ä¹Ÿæ˜¯æ‹“æ‰‘ç©ºé—´ä¸­è¿ç»­æ˜ å°„çš„å®šä¹‰ï¼Œå¼€é›†çš„åŸåƒæ˜¯å¼€é›† ç¬¬6è®² æ‹“æ‰‘ç©ºé—´ è¿™èŠ‚è¯¾ä»æŠ½è±¡çš„åº¦é‡ç©ºé—´ä»‹ç»åˆ°äº†æ›´ä¸ºæŠ½è±¡çš„æ‹“æ‰‘ç©ºé—´ï¼ŒæŠ½è±¡çš„ä¸œè¥¿ä»â€œè·ç¦»â€å˜æˆäº†â€œé™„è¿‘â€ã€‚ å®šä¹‰1.17 $ ä»¤ X æ˜¯ä¸€ä¸ªé›†åˆï¼Œåˆ™ \\tau \\subset P (X) æ˜¯ X ä¸Šçš„ä¸€ä¸ªæ‹“æ‰‘ï¼Œè‹¥ \\newline 1.\\phi, X \\in \\tauï¼› \\newline 2.å¦‚æœå¯¹ä»»æ„ a \\in Iï¼Œæˆ‘ä»¬æœ‰ U_{a} \\in \\tauï¼Œåˆ™å®ƒä»¬çš„ä»»æ„å¹¶ä¹Ÿåœ¨ \\tau ä¸­,å³\\cup_{a \\in I}U_{a} \\in \\tau \\newline 3.å¦‚æœU_{1}â€¦U_{i} \\in \\tau, åˆ™\\cap_{i=1}^{n} \\in \\tau \\newline æˆ‘ä»¬ç§° (X, \\tau) æ˜¯ä¸€ä¸ªæ‹“æ‰‘ç©ºé—´ã€‚åœ¨ä¸å¼•èµ·æ­§ä¹‰çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ç®€å•åœ°ç§° X æ˜¯ä¸€ä¸ªæ‹“æ‰‘ç©ºé—´ã€‚ \\newline è¿›ä¸€æ­¥åœ°ï¼ŒA \\subset X è¢«ç§°ä¸ºä¸€ä¸ªå¼€é›†å½“ä¸”ä»…å½“ A \\in \\tauï¼ŒA è¢«ä¸ºä¸€ä¸ªé—­é›†å½“ä¸”ä»…å½“ A^{C} = X - Aæ˜¯ä¸€ä¸ªå¼€é›†ã€‚ $ Xåœ¨ä»»æ„å¹¶å’Œæœ‰é™äº¤ä¸‹å°é—­ P(x)æ˜¯Xæ‰€æœ‰å­é›†çš„é›†åˆ ç¬¬7è®² è¿ç»­æ˜ å°„ ç¬¬8è®² æ‹“æ‰‘çš„åŸºä¸å­ç©ºé—´æ‹“æ‰‘ ç¬¬9è®² ç§¯æ‹“æ‰‘ä¸ç®±æ‹“æ‰‘ ç¬¬10è®² å•†æ‹“æ‰‘ä¸åºæ‹“æ‰‘ (Updatingâ€¦)","link":"/2023/03/26/Maki-%E7%82%B9%E9%9B%86%E6%8B%93%E6%89%91%E5%AD%A6/"},{"title":"C++","text":"Introduction C++æ˜¯ä¸€ç§å…¼å…·é¢å‘è¿‡ç¨‹å’Œé¢å‘å¯¹è±¡ç‰¹å¾çš„ç¼–ç¨‹è¯­è¨€ Start è®©æˆ‘ä»¬å†™ä¸‹ç¬¬ä¸€ä¸ªC++æ–‡ä»¶! hello.cpp123456789#include &lt;iostream&gt;using namespace std;int main(){ cout &lt;&lt; &quot;Hello World!&quot; &lt;&lt; endl; return 0;} ä½¿ç”¨Linuxå‘½ä»¤è¡Œæ¥è°ƒç”¨ç¼–è¯‘å™¨ 1$ g++ -o hello hello.cpp è¿è¡Œç¼–è¯‘å¥½çš„ç¨‹åº 12$ ./helloHello World!","link":"/2022/07/14/C-Tips/"},{"title":"Markdown and Latex","text":"Introduction Markdownæ˜¯ä¸€ç§æ ‡è®°è¯­è¨€ï¼Œè€ŒLatexæ˜¯ä¸€ç§æ’ç‰ˆç³»ç»Ÿ Usage æ ‡é¢˜ 123456# Title## Title### Title#### Title##### Title###### Title å¼•ç”¨ 12&gt; Learn what is to be taken seriously and laugh at the rest.&gt; â€• Herman Hesse Learn what is to be taken seriously and laugh at the rest. â€• Herman Hesse å¼ºè°ƒ 12345678910111213*æ–œä½“***åŠ ç²—*****æ–œä½“åŠ ç²—***&lt;u&gt;ä¸‹åˆ’çº¿&lt;/u&gt;==é«˜äº®==* é‡ç‚¹+ é‡ç‚¹- é‡ç‚¹ æ–œä½“ åŠ ç²— æ–œä½“åŠ ç²— ä¸‹åˆ’çº¿ é«˜äº® é‡ç‚¹ é‡ç‚¹ é‡ç‚¹ é“¾æ¥ 1[mygithub](https://github.com/huaeryi) mygithub 1[æˆ‘çš„github](https://github.com/huaeryi &quot;https://github.com/huaeryi&quot;) æˆ‘çš„github 12* mygithub[^website][^website]:https://github.com/huaeryi mygithub[1] 1![picture](/MarkdownHelp/Head.jpg =300x300) 1![ok](/First/pic.jpg &quot;hello&quot;) 1[reference to Others](#Others) reference to Others ä»£ç  1`$ echo &quot;El Psy Kongroo&quot;` $ echo &quot;El Psy Kongroo&quot; 12345678910//å¿½ç•¥æ–œæ //```cpp#include &lt;iostream&gt;int main(){ using namespace std; cout &lt;&lt; &quot;Hello world&quot; &lt;&lt; endl; return 0;}//``` 1234567#include &lt;iostream&gt;int main(){ using namespace std; cout &lt;&lt; &quot;Hello world&quot; &lt;&lt; endl; return 0;} è¡¨æƒ… 12:smile::laughing: ğŸ˜„ ğŸ˜† emojiè¡¨æƒ…å¤§å…¨ Latex 1$\\alpha = \\delta$ $\\alpha = \\delta$ 123$$\\alpha = \\delta$$ $$ \\alpha = \\delta $$ LaTeXæ•°å­¦å…¬å¼ã€å¸¸ç”¨ç¬¦å·å¤§å…¨ åœ¨çº¿ç¼–è¾‘å™¨ Others 1* X^2^ X2 12- [ ] home- [x] homework home homework 123+++ **ç‚¹å‡»æŠ˜å **è¿™æ˜¯è¢«éšè—çš„å†…å®¹+++ &nbsp;ç‚¹å‡»æŠ˜å è¿™æ˜¯è¢«éšè—çš„å†…å®¹ 123|name|age|mark|:---:|:---:|:---:||peter|20|80| name age mark peter 20 80 https://github.com/huaeryi â†©ï¸","link":"/2022/07/14/MarkdownHelp/"},{"title":"First","text":"First This is my First Markdown file. reference to title","link":"/2022/07/13/First/"},{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start Create a new post 1$ hexo new &quot;My New Post&quot; More info: Writing Run server 1$ hexo server More info: Server Generate static files 1$ hexo generate More info: Generating Deploy to remote sites 1$ hexo deploy More info: Deployment","link":"/2022/05/01/hello-world/"}],"tags":[{"name":"C","slug":"C","link":"/tags/C/"},{"name":"OS","slug":"OS","link":"/tags/OS/"},{"name":"RISC-V","slug":"RISC-V","link":"/tags/RISC-V/"},{"name":"GNU Make","slug":"GNU-Make","link":"/tags/GNU-Make/"},{"name":"Plan","slug":"Plan","link":"/tags/Plan/"},{"name":"Math","slug":"Math","link":"/tags/Math/"},{"name":"C++","slug":"C","link":"/tags/C/"},{"name":"Shell","slug":"Shell","link":"/tags/Shell/"},{"name":"x86","slug":"x86","link":"/tags/x86/"},{"name":"Python","slug":"Python","link":"/tags/Python/"},{"name":"CTF","slug":"CTF","link":"/tags/CTF/"},{"name":"Docker","slug":"Docker","link":"/tags/Docker/"},{"name":"Markdown","slug":"Markdown","link":"/tags/Markdown/"},{"name":"ChatGPT","slug":"ChatGPT","link":"/tags/ChatGPT/"},{"name":"Git","slug":"Git","link":"/tags/Git/"},{"name":"Github","slug":"Github","link":"/tags/Github/"},{"name":"Java","slug":"Java","link":"/tags/Java/"},{"name":"CMake","slug":"CMake","link":"/tags/CMake/"},{"name":"Network","slug":"Network","link":"/tags/Network/"},{"name":"Vim","slug":"Vim","link":"/tags/Vim/"},{"name":"0-&gt;1","slug":"0-1","link":"/tags/0-1/"},{"name":"Linux","slug":"Linux","link":"/tags/Linux/"},{"name":"Windows","slug":"Windows","link":"/tags/Windows/"},{"name":"gdb","slug":"gdb","link":"/tags/gdb/"},{"name":"tmux","slug":"tmux","link":"/tags/tmux/"}],"categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","link":"/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"Others","slug":"Others","link":"/categories/Others/"},{"name":"CS Tools","slug":"CS-Tools","link":"/categories/CS-Tools/"},{"name":"CS Language","slug":"CS-Language","link":"/categories/CS-Language/"},{"name":"äººå·¥æ™ºèƒ½","slug":"äººå·¥æ™ºèƒ½","link":"/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"},{"name":"CTF","slug":"CTF","link":"/categories/CTF/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","link":"/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"æ–‡å­¦","slug":"æ–‡å­¦","link":"/categories/%E6%96%87%E5%AD%A6/"},{"name":"è½¯ä»¶å·¥ç¨‹","slug":"è½¯ä»¶å·¥ç¨‹","link":"/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"},{"name":"æŠ½è±¡ä»£æ•°","slug":"æŠ½è±¡ä»£æ•°","link":"/categories/%E6%8A%BD%E8%B1%A1%E4%BB%A3%E6%95%B0/"},{"name":"ç‚¹é›†æ‹“æ‰‘","slug":"ç‚¹é›†æ‹“æ‰‘","link":"/categories/%E7%82%B9%E9%9B%86%E6%8B%93%E6%89%91/"},{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","link":"/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"name":"CS Project","slug":"CS-Project","link":"/categories/CS-Project/"}],"pages":[{"title":"tags","text":"","link":"/tags/index.html"},{"title":"About","text":"","link":"/About/index.html"},{"title":"categories","text":"","link":"/categories/index.html"}]}